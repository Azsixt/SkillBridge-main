<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SkillBridge - Pilot Training Optimization</title>
    <script>
        // AGGRESSIVELY suppress all Tailwind warnings BEFORE anything else loads
        (function() {
            window.process = { env: { NODE_ENV: 'production' } };
            window.tailwind = { suppressWarnings: true };
            
            // Multiple layers of warning suppression
            const originalWarn = console.warn;
            const originalError = console.error;
            const originalLog = console.log;
            
            console.warn = function(...args) {
                const message = args.join(' ');
                if (message.includes('tailwindcss.com') || 
                    message.includes('production') || 
                    message.includes('CDN') ||
                    message.includes('PostCSS')) {
                    return; // Completely suppress these warnings
                }
                originalWarn.apply(console, args);
            };
            
            console.error = function(...args) {
                const message = args.join(' ');
                if (message.includes('main.js') || message.includes('Unexpected token')) {
                    return; // Suppress main.js errors
                }
                originalError.apply(console, args);
            };
            
            // Suppress window errors too
            window.addEventListener('error', function(e) {
                if (e.filename && e.filename.includes('main.js')) {
                    e.preventDefault();
                    e.stopPropagation();
                    return false;
                }
            });
        })();
    </script>
    <script src="https://cdn.tailwindcss.com?3.4.0"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .card {
            transition: all 0.3s ease;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .progress-ring {
            transform: rotate(-90deg);
        }
        .search-results {
            max-height: 300px;
            overflow-y: auto;
        }
        .assessment-card {
            transition: all 0.2s ease;
        }
        .assessment-card:hover {
            background-color: #f0f7ff;
        }
        .pairing-card {
            transition: all 0.2s ease;
        }
        .pairing-card:hover {
            background-color: #f0f7ff;
            cursor: pointer;
        }
        .skill-tag {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 500;
            margin-right: 4px;
            margin-bottom: 4px;
        }
        .skill-filter-btn {
            transition: all 0.2s ease;
        }
        .skill-filter-btn.active {
            background-color: #3b82f6;
            color: white;
        }
        .report-tab {
            transition: all 0.2s ease;
            cursor: pointer;
        }
        .report-tab.active {
            background-color: #3b82f6;
            color: white;
        }
        .report-content {
            display: none;
        }
        .report-content.active {
            display: block;
        }
    </style>
  </head>
  <body>
    <div class="min-h-screen flex flex-col">
        <!-- Header -->
        <header class="bg-gradient-to-r from-blue-800 to-indigo-900 text-white shadow-lg">
            <div class="container mx-auto px-4 py-3 flex justify-between items-center">
                <div class="flex items-center space-x-3">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"></path>
                    </svg>
                    <h1 class="text-2xl font-bold">SkillBridge</h1>
                </div>
                <div class="flex items-center space-x-4">
                    <div class="relative">
                        <input type="text" placeholder="Search..." class="bg-white/20 rounded-full py-1 px-4 text-sm focus:outline-none focus:ring-2 focus:ring-white/50">
                    </div>
                    <div class="flex items-center space-x-2">
                        <div class="w-8 h-8 rounded-full bg-white/30 flex items-center justify-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                                <path d="M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z" />
                            </svg>
                        </div>
                        <div class="flex items-center space-x-2">
                            <div class="w-8 h-8 rounded-full bg-white text-blue-800 flex items-center justify-center font-bold">JD</div>
                            <span class="hidden md:inline">John Doe</span>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <div class="flex-grow flex flex-col">
            <!-- Top Navigation Tabs -->
            <div class="bg-white shadow">
                <div class="container mx-auto px-4">
                    <div class="flex overflow-x-auto">
                        <button class="tab-button flex items-center space-x-2 px-6 py-4 border-b-2 border-blue-600 text-blue-600 font-medium" data-tab="dashboard">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z" />
                            </svg>
                            <span>Dashboard</span>
                        </button>
                        <button class="tab-button flex items-center space-x-2 px-6 py-4 border-b-2 border-transparent text-gray-600 hover:text-gray-800 font-medium" data-tab="assessments">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01" />
                            </svg>
                            <span>Assessment Forms</span>
                        </button>
                        <button class="tab-button flex items-center space-x-2 px-6 py-4 border-b-2 border-transparent text-gray-600 hover:text-gray-800 font-medium" data-tab="reports">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
                            </svg>
                            <span>Training Records</span>
                        </button>
                        <button class="tab-button flex items-center space-x-2 px-6 py-4 border-b-2 border-transparent text-gray-600 hover:text-gray-800 font-medium" data-tab="settings">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                            </svg>
                            <span>Settings</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Content Area -->
            <main class="flex-grow p-6 overflow-auto container mx-auto">
                <!-- Dashboard Tab -->
                <div id="dashboard" class="tab-content active">
                    <div class="mb-6">
                        <h2 class="text-2xl font-bold text-gray-800">Dashboard</h2>
                        <p class="text-gray-600">Overview of training performance and key metrics</p>
                    </div>

                    <!-- Stats Cards -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6">
                        <div class="card bg-white rounded-xl shadow p-6">
                            <div class="flex justify-between items-start">
                                <div>
                                    <p class="text-sm font-medium text-gray-500">Active Trainees</p>
                                    <h3 class="text-2xl font-bold text-gray-800 mt-1">42</h3>
                                </div>
                                <div class="bg-blue-100 p-2 rounded-lg">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
                                    </svg>
                                </div>
                            </div>
                            <div class="mt-4 flex items-center">
                                <span class="text-green-500 flex items-center text-sm font-medium">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18" />
                                    </svg>
                                    8%
                                </span>
                                <span class="text-gray-500 text-sm ml-2">from last month</span>
                            </div>
                        </div>

                        <div class="card bg-white rounded-xl shadow p-6">
                            <div class="flex justify-between items-start">
                                <div>
                                    <p class="text-sm font-medium text-gray-500">Assessments Completed</p>
                                    <h3 class="text-2xl font-bold text-gray-800 mt-1">187</h3>
                                </div>
                                <div class="bg-purple-100 p-2 rounded-lg">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-purple-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4" />
                                    </svg>
                                </div>
                            </div>
                            <div class="mt-4 flex items-center">
                                <span class="text-green-500 flex items-center text-sm font-medium">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18" />
                                    </svg>
                                    12%
                                </span>
                                <span class="text-gray-500 text-sm ml-2">from last week</span>
                            </div>
                        </div>

                        <div class="card bg-white rounded-xl shadow p-6">
                            <div class="flex justify-between items-start">
                                <div>
                                    <p class="text-sm font-medium text-gray-500">Average Score</p>
                                    <h3 class="text-2xl font-bold text-gray-800 mt-1">84%</h3>
                                </div>
                                <div class="bg-green-100 p-2 rounded-lg">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
                                    </svg>
                                </div>
                            </div>
                            <div class="mt-4 flex items-center">
                                <span class="text-green-500 flex items-center text-sm font-medium">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18" />
                                    </svg>
                                    3%
                                </span>
                                <span class="text-gray-500 text-sm ml-2">from last month</span>
                            </div>
                        </div>

                        <div class="card bg-white rounded-xl shadow p-6">
                            <div class="flex justify-between items-start">
                                <div>
                                    <p class="text-sm font-medium text-gray-500">Training Hours</p>
                                    <h3 class="text-2xl font-bold text-gray-800 mt-1">1,248</h3>
                                </div>
                                <div class="bg-amber-100 p-2 rounded-lg">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-amber-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                                    </svg>
                                </div>
                            </div>
                            <div class="mt-4 flex items-center">
                                <span class="text-red-500 flex items-center text-sm font-medium">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3" />
                                    </svg>
                                    2%
                                </span>
                                <span class="text-gray-500 text-sm ml-2">from last month</span>
                            </div>
                        </div>
                    </div>

                    <!-- Intelligent Pairing Section -->
                    <div class="bg-white rounded-xl shadow p-6 mb-6">
                        <div class="flex justify-between items-center mb-4">
                            <div>
                                <h3 class="font-semibold text-gray-800 text-lg">Intelligent Pairing</h3>
                                <p class="text-gray-600 text-sm">Matching trainees with instructors based on skill gaps and expertise</p>
                            </div>
                            <div class="flex space-x-2">
                                <button class="px-3 py-1 text-sm bg-blue-50 text-blue-600 rounded-md">Auto-Pair</button>
                                <button class="px-3 py-1 text-sm text-gray-500 hover:bg-gray-50 rounded-md">Manual Match</button>
                                <button class="px-3 py-1 text-sm text-gray-500 hover:bg-gray-50 rounded-md">View All</button>
                            </div>
                        </div>
                        
                        <!-- Pairing Cards -->
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                            <!-- Pairing 1 -->
                            <div class="pairing-card bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-4 border border-blue-100">
                                <div class="flex justify-between items-start mb-3">
                                    <div class="flex items-center">
                                        <div class="w-10 h-10 rounded-full bg-red-100 text-red-800 flex items-center justify-center font-bold text-sm">AT</div>
                                        <div class="ml-3">
                                            <p class="text-sm font-medium text-gray-800">Amanda Torres</p>
                                            <p class="text-xs text-gray-500">Trainee Pilot</p>
                                        </div>
                                    </div>
                                    <div class="bg-blue-100 p-1 rounded-full">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
                                        </svg>
                                    </div>
                                </div>
                                
                                <div class="flex items-center justify-center my-2">
                                    <div class="w-1/3 flex flex-col items-center">
                                        <div class="text-xs text-gray-500 mb-1">Needs help with</div>
                                        <div class="flex flex-wrap justify-center">
                                            <span class="skill-tag bg-red-100 text-red-700">Weather Systems</span>
                                            <span class="skill-tag bg-amber-100 text-amber-700">Navigation</span>
                                        </div>
                                    </div>
                                    
                                    <div class="w-1/3 flex justify-center">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-blue-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
                                        </svg>
                                    </div>
                                    
                                    <div class="w-1/3 flex flex-col items-center">
                                        <div class="flex items-center">
                                            <div class="w-10 h-10 rounded-full bg-green-100 text-green-800 flex items-center justify-center font-bold text-sm">JD</div>
                                            <div class="ml-2">
                                                <p class="text-sm font-medium text-gray-800">James Davis</p>
                                                <p class="text-xs text-gray-500">Instructor</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="mt-3 pt-3 border-t border-blue-100 flex justify-between items-center">
                                    <div class="text-xs text-gray-500">Match Score: <span class="font-semibold text-blue-600">98%</span></div>
                                    <div class="flex space-x-2">
                                        <button class="px-2 py-1 text-xs bg-blue-600 text-white rounded">Schedule</button>
                                        <button class="px-2 py-1 text-xs border border-gray-300 text-gray-600 rounded">Details</button>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Pairing 2 -->
                            <div class="pairing-card bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-4 border border-blue-100">
                                <div class="flex justify-between items-start mb-3">
                                    <div class="flex items-center">
                                        <div class="w-10 h-10 rounded-full bg-amber-100 text-amber-800 flex items-center justify-center font-bold text-sm">RB</div>
                                        <div class="ml-3">
                                            <p class="text-sm font-medium text-gray-800">Robert Brown</p>
                                            <p class="text-xs text-gray-500">Trainee Pilot</p>
                                        </div>
                                    </div>
                                    <div class="bg-blue-100 p-1 rounded-full">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
                                        </svg>
                                    </div>
                                </div>
                                
                                <div class="flex items-center justify-center my-2">
                                    <div class="w-1/3 flex flex-col items-center">
                                        <div class="text-xs text-gray-500 mb-1">Needs help with</div>
                                        <div class="flex flex-wrap justify-center">
                                            <span class="skill-tag bg-red-100 text-red-700">Emergency Proc.</span>
                                            <span class="skill-tag bg-amber-100 text-amber-700">Decision Making</span>
                                        </div>
                                    </div>
                                    
                                    <div class="w-1/3 flex justify-center">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-blue-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
                                        </svg>
                                    </div>
                                    
                                    <div class="w-1/3 flex flex-col items-center">
                                        <div class="flex items-center">
                                            <div class="w-10 h-10 rounded-full bg-blue-100 text-blue-800 flex items-center justify-center font-bold text-sm">SL</div>
                                            <div class="ml-2">
                                                <p class="text-sm font-medium text-gray-800">Sarah Lee</p>
                                                <p class="text-xs text-gray-500">Instructor</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="mt-3 pt-3 border-t border-blue-100 flex justify-between items-center">
                                    <div class="text-xs text-gray-500">Match Score: <span class="font-semibold text-blue-600">95%</span></div>
                                    <div class="flex space-x-2">
                                        <button class="px-2 py-1 text-xs bg-blue-600 text-white rounded">Schedule</button>
                                        <button class="px-2 py-1 text-xs border border-gray-300 text-gray-600 rounded">Details</button>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Pairing 3 -->
                            <div class="pairing-card bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-4 border border-blue-100">
                                <div class="flex justify-between items-start mb-3">
                                    <div class="flex items-center">
                                        <div class="w-10 h-10 rounded-full bg-purple-100 text-purple-800 flex items-center justify-center font-bold text-sm">MJ</div>
                                        <div class="ml-3">
                                            <p class="text-sm font-medium text-gray-800">Michael Johnson</p>
                                            <p class="text-xs text-gray-500">Trainee Pilot</p>
                                        </div>
                                    </div>
                                    <div class="bg-blue-100 p-1 rounded-full">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
                                        </svg>
                                    </div>
                                </div>
                                
                                <div class="flex items-center justify-center my-2">
                                    <div class="w-1/3 flex flex-col items-center">
                                        <div class="text-xs text-gray-500 mb-1">Needs help with</div>
                                        <div class="flex flex-wrap justify-center">
                                            <span class="skill-tag bg-amber-100 text-amber-700">Flight Planning</span>
                                            <span class="skill-tag bg-red-100 text-red-700">Regulations</span>
                                        </div>
                                    </div>
                                    
                                    <div class="w-1/3 flex justify-center">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-blue-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
                                        </svg>
                                    </div>
                                    
                                    <div class="w-1/3 flex flex-col items-center">
                                        <div class="flex items-center">
                                            <div class="w-10 h-10 rounded-full bg-indigo-100 text-indigo-800 flex items-center justify-center font-bold text-sm">TW</div>
                                            <div class="ml-2">
                                                <p class="text-sm font-medium text-gray-800">Thomas Wilson</p>
                                                <p class="text-xs text-gray-500">Instructor</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="mt-3 pt-3 border-t border-blue-100 flex justify-between items-center">
                                    <div class="text-xs text-gray-500">Match Score: <span class="font-semibold text-blue-600">92%</span></div>
                                    <div class="flex space-x-2">
                                        <button class="px-2 py-1 text-xs bg-blue-600 text-white rounded">Schedule</button>
                                        <button class="px-2 py-1 text-xs border border-gray-300 text-gray-600 rounded">Details</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Pairing Metrics -->
                        <div class="mt-4 pt-4 border-t border-gray-100 grid grid-cols-1 md:grid-cols-3 gap-4">
                            <div class="flex items-center">
                                <div class="w-12 h-12 rounded-full bg-green-100 flex items-center justify-center mr-3">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                                    </svg>
                                </div>
                                <div>
                                    <p class="text-sm font-medium text-gray-800">12 Active Pairings</p>
                                    <p class="text-xs text-gray-500">Currently in training sessions</p>
                                </div>
                            </div>
                            <div class="flex items-center">
                                <div class="w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center mr-3">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" />
                                    </svg>
                                </div>
                                <div>
                                    <p class="text-sm font-medium text-gray-800">87% Improvement Rate</p>
                                    <p class="text-xs text-gray-500">In targeted skill areas</p>
                                </div>
                            </div>
                            <div class="flex items-center">
                                <div class="w-12 h-12 rounded-full bg-purple-100 flex items-center justify-center mr-3">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-purple-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                                    </svg>
                                </div>
                                <div>
                                    <p class="text-sm font-medium text-gray-800">24 Hours Average</p>
                                    <p class="text-xs text-gray-500">To reach proficiency</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Charts Row -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                        <div class="bg-white rounded-xl shadow p-6">
                            <div class="flex justify-between items-center mb-4">
                                <h3 class="font-semibold text-gray-800">Training Records Status</h3>
                                                            <div class="flex space-x-2">
                                <button class="px-3 py-1 text-sm bg-blue-50 text-blue-600 rounded-md">Monthly</button>
                            </div>
                            </div>
                            <div class="h-64">
                                <canvas id="progressChart"></canvas>
                            </div>
                        </div>

                        <div class="bg-white rounded-xl shadow p-6">
                            <div class="flex justify-between items-center mb-4">
                                <h3 class="font-semibold text-gray-800">Skill Matrix Overview</h3>
                                <div class="flex space-x-2">
                                    <button id="skillFilterTechnical" class="skill-filter-btn px-3 py-1 text-sm bg-blue-50 text-blue-600 rounded-md active">Technical</button>
                                    <button id="skillFilterSoft" class="skill-filter-btn px-3 py-1 text-sm text-gray-500 hover:bg-gray-50 rounded-md">Soft Skills</button>
                                </div>
                            </div>
                            <div class="h-64">
                                <canvas id="skillsChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Recent Activity -->
                    <div class="bg-white rounded-xl shadow p-6">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="font-semibold text-gray-800">Recent Activity</h3>
                            <button class="text-blue-600 text-sm font-medium">View All</button>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="min-w-full">
                                <thead>
                                    <tr class="border-b border-gray-200">
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Trainee</th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Activity</th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Date</th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-gray-200">
                                    <tr>
                                        <td class="px-4 py-3 whitespace-nowrap">
                                            <div class="flex items-center">
                                                <div class="w-8 h-8 rounded-full bg-blue-100 text-blue-800 flex items-center justify-center font-bold text-sm">MJ</div>
                                                <div class="ml-3">
                                                    <p class="text-sm font-medium text-gray-800">Michael Johnson</p>
                                                </div>
                                            </div>
                                        </td>
                                        <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-600">Completed Navigation Assessment</td>
                                        <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-600">Today, 10:30 AM</td>
                                        <td class="px-4 py-3 whitespace-nowrap">
                                            <span class="px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800">Passed</span>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="px-4 py-3 whitespace-nowrap">
                                            <div class="flex items-center">
                                                <div class="w-8 h-8 rounded-full bg-purple-100 text-purple-800 flex items-center justify-center font-bold text-sm">SL</div>
                                                <div class="ml-3">
                                                    <p class="text-sm font-medium text-gray-800">Sarah Lee</p>
                                                </div>
                                            </div>
                                        </td>
                                        <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-600">Started Emergency Procedures Training</td>
                                        <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-600">Today, 9:15 AM</td>
                                        <td class="px-4 py-3 whitespace-nowrap">
                                            <span class="px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800">In Progress</span>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="px-4 py-3 whitespace-nowrap">
                                            <div class="flex items-center">
                                                <div class="w-8 h-8 rounded-full bg-amber-100 text-amber-800 flex items-center justify-center font-bold text-sm">RB</div>
                                                <div class="ml-3">
                                                    <p class="text-sm font-medium text-gray-800">Robert Brown</p>
                                                </div>
                                            </div>
                                        </td>
                                        <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-600">Completed Flight Planning Assessment</td>
                                        <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-600">Yesterday, 4:45 PM</td>
                                        <td class="px-4 py-3 whitespace-nowrap">
                                            <span class="px-2 py-1 text-xs font-medium rounded-full bg-amber-100 text-amber-800">Needs Review</span>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="px-4 py-3 whitespace-nowrap">
                                            <div class="flex items-center">
                                                <div class="w-8 h-8 rounded-full bg-red-100 text-red-800 flex items-center justify-center font-bold text-sm">AT</div>
                                                <div class="ml-3">
                                                    <p class="text-sm font-medium text-gray-800">Amanda Torres</p>
                                                </div>
                                            </div>
                                        </td>
                                        <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-600">Failed Weather Systems Quiz</td>
                                        <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-600">Yesterday, 2:30 PM</td>
                                        <td class="px-4 py-3 whitespace-nowrap">
                                            <span class="px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800">Failed</span>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Assessments Tab -->
                <div id="assessments" class="tab-content">
                    <div class="mb-6 flex justify-between items-center">
                        <div>
                                                    <h2 class="text-2xl font-bold text-gray-800">Assessment Forms</h2>
                        <p class="text-gray-600">Create and manage skills and knowledge assessment forms</p>
                        </div>
                        <button id="createAssessmentTabBtn" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
                            </svg>
                            Create Assessment
                        </button>
                    </div>

                    <!-- Search and Filter -->
                    <div class="bg-white rounded-xl shadow p-4 mb-6">
                        <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
                            <div class="relative flex-grow">
                                <input type="text" placeholder="Search assessments..." class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400 absolute left-3 top-2.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                                </svg>
                            </div>
                            <div class="flex flex-wrap gap-2">
                                <select class="border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                    <option>All Types</option>
                                    <option>Technical</option>
                                    <option>Practical</option>
                                    <option>Knowledge</option>
                                </select>
                                <select class="border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                    <option>All Status</option>
                                    <option>Active</option>
                                    <option>Draft</option>
                                    <option>Archived</option>
                                </select>
                                <button class="border border-gray-300 rounded-lg px-3 py-2 flex items-center hover:bg-gray-50">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-500 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z" />
                                    </svg>
                                    More Filters
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Assessment Cards -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6">
                        <div class="assessment-card bg-white rounded-xl shadow p-6 cursor-pointer">
                            <div class="flex justify-between items-start mb-4">
                                <div>
                                    <span class="px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800">Active</span>
                                    <h3 class="text-lg font-semibold text-gray-800 mt-2">Annual</h3>
                                </div>
                                <div class="bg-blue-100 p-2 rounded-lg">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7" />
                                    </svg>
                                </div>
                            </div>
                            <p class="text-gray-600 text-sm mb-4">Comprehensive yearly assessment covering all required pilot competencies and regulatory requirements.</p>
                            <div class="flex justify-between items-center text-sm">
                                <span class="text-gray-500">25 questions</span>
                                <span class="text-gray-500">45 minutes</span>
                            </div>
                            <div class="mt-4 pt-4 border-t border-gray-100 flex justify-between items-center">
                                <div class="flex items-center">
                                    <div class="flex -space-x-2">
                                        <div class="w-6 h-6 rounded-full bg-blue-100 text-blue-800 flex items-center justify-center text-xs font-bold">42</div>
                                    </div>
                                    <span class="text-gray-500 text-sm ml-2">Completions</span>
                                </div>
                                <button class="text-blue-600 hover:text-blue-800 font-medium text-sm">View Details</button>
                            </div>
                        </div>

                        <div class="assessment-card bg-white rounded-xl shadow p-6 cursor-pointer">
                            <div class="flex justify-between items-start mb-4">
                                <div>
                                    <span class="px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800">Active</span>
                                    <h3 class="text-lg font-semibold text-gray-800 mt-2">LOFT</h3>
                                </div>
                                <div class="bg-red-100 p-2 rounded-lg">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-red-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
                                    </svg>
                                </div>
                            </div>
                            <p class="text-gray-600 text-sm mb-4">Line-Oriented Flight Training scenarios designed to evaluate crew resource management and decision-making skills.</p>
                            <div class="flex justify-between items-center text-sm">
                                <span class="text-gray-500">15 scenarios</span>
                                <span class="text-gray-500">60 minutes</span>
                            </div>
                            <div class="mt-4 pt-4 border-t border-gray-100 flex justify-between items-center">
                                <div class="flex items-center">
                                    <div class="flex -space-x-2">
                                        <div class="w-6 h-6 rounded-full bg-blue-100 text-blue-800 flex items-center justify-center text-xs font-bold">38</div>
                                    </div>
                                    <span class="text-gray-500 text-sm ml-2">Completions</span>
                                </div>
                                <button class="text-blue-600 hover:text-blue-800 font-medium text-sm">View Details</button>
                            </div>
                        </div>

                        <div class="assessment-card bg-white rounded-xl shadow p-6 cursor-pointer">
                            <div class="flex justify-between items-start mb-4">
                                <div>
                                    <span class="px-2 py-1 text-xs font-medium rounded-full bg-amber-100 text-amber-800">Draft</span>
                                    <h3 class="text-lg font-semibold text-gray-800 mt-2">Recurrent</h3>
                                </div>
                                <div class="bg-amber-100 p-2 rounded-lg">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-amber-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z" />
                                    </svg>
                                </div>
                            </div>
                            <p class="text-gray-600 text-sm mb-4">Periodic training assessment to maintain currency and proficiency in essential pilot skills and knowledge.</p>
                            <div class="flex justify-between items-center text-sm">
                                <span class="text-gray-500">30 questions</span>
                                <span class="text-gray-500">40 minutes</span>
                            </div>
                            <div class="mt-4 pt-4 border-t border-gray-100 flex justify-between items-center">
                                <div class="flex items-center">
                                    <div class="flex -space-x-2">
                                        <div class="w-6 h-6 rounded-full bg-gray-100 text-gray-800 flex items-center justify-center text-xs font-bold">0</div>
                                    </div>
                                    <span class="text-gray-500 text-sm ml-2">Completions</span>
                                </div>
                                <button class="text-blue-600 hover:text-blue-800 font-medium text-sm">Edit Draft</button>
                            </div>
                        </div>

                        <div class="assessment-card bg-white rounded-xl shadow p-6 cursor-pointer">
                            <div class="flex justify-between items-start mb-4">
                                <div>
                                    <span class="px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800">Active</span>
                                    <h3 class="text-lg font-semibold text-gray-800 mt-2">Proficiency Check</h3>
                                </div>
                                <div class="bg-purple-100 p-2 rounded-lg">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-purple-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01" />
                                    </svg>
                                </div>
                            </div>
                            <p class="text-gray-600 text-sm mb-4">Formal evaluation of pilot skills and competencies required for regulatory compliance and certification.</p>
                            <div class="flex justify-between items-center text-sm">
                                <span class="text-gray-500">5 scenarios</span>
                                <span class="text-gray-500">90 minutes</span>
                            </div>
                            <div class="mt-4 pt-4 border-t border-gray-100 flex justify-between items-center">
                                <div class="flex items-center">
                                    <div class="flex -space-x-2">
                                        <div class="w-6 h-6 rounded-full bg-blue-100 text-blue-800 flex items-center justify-center text-xs font-bold">27</div>
                                    </div>
                                    <span class="text-gray-500 text-sm ml-2">Completions</span>
                                </div>
                                <button class="text-blue-600 hover:text-blue-800 font-medium text-sm">View Details</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Training Records Tab (formerly Reports) -->
                <div id="reports" class="tab-content">
                    <div class="mb-6 flex justify-between items-center">
                        <div>
                            <h2 class="text-2xl font-bold text-gray-800">Training Records</h2>
                            <p class="text-gray-600">Analyze training data and generate insights</p>
                        </div>
                        <div class="flex space-x-2">
                            <button class="border border-gray-300 bg-white hover:bg-gray-50 text-gray-700 px-4 py-2 rounded-lg flex items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
                                </svg>
                                Export
                            </button>
                            <button class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
                                </svg>
                                New Record
                            </button>
                        </div>
                    </div>

                    <!-- Report Filters -->
                    <div class="bg-white rounded-xl shadow p-4 mb-6">
                        <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
                            <div class="flex flex-wrap gap-2">
                                <select class="border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                    <option>Last 30 Days</option>
                                    <option>Last Quarter</option>
                                    <option>Last Year</option>
                                    <option>Custom Range</option>
                                </select>
                                <select class="border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                    <option>All Trainees</option>
                                    <option>Active Trainees</option>
                                    <option>Completed Training</option>
                                </select>
                                <select class="border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                    <option>All Assessments</option>
                                    <option>Technical</option>
                                    <option>Practical</option>
                                    <option>Knowledge</option>
                                </select>
                            </div>
                            <div class="flex gap-2">
                                <button class="border border-gray-300 rounded-lg px-3 py-2 flex items-center hover:bg-gray-50">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-500 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z" />
                                    </svg>
                                    More Filters
                                </button>
                                <button class="border border-gray-300 rounded-lg px-3 py-2 flex items-center hover:bg-gray-50">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-500 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                                    </svg>
                                    Refresh
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Captain Profile and Reports Section -->
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">
                        <!-- Captain Profile -->
                        <div class="bg-white rounded-xl shadow p-6">
                            <div class="flex items-center mb-4">
                                <div class="w-16 h-16 rounded-full bg-blue-100 text-blue-800 flex items-center justify-center font-bold text-xl">JD</div>
                                <div class="ml-4">
                                    <h3 class="text-xl font-bold text-gray-800">Capt. John Doe</h3>
                                    <p class="text-gray-600">Boeing 777-300ER</p>
                                </div>
                            </div>
                            
                            <div class="border-t border-gray-200 pt-4 mt-4">
                                <div class="grid grid-cols-1 gap-3">
                                    <div class="flex justify-between">
                                        <span class="text-gray-600">Joined Date:</span>
                                        <span class="font-medium text-gray-800">March 15, 2010</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-gray-600">Years of Experience:</span>
                                        <span class="font-medium text-gray-800">14 years</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-gray-600">Total Flight Hours:</span>
                                        <span class="font-medium text-gray-800">12,450 hours</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="border-t border-gray-200 pt-4 mt-4">
                                <h4 class="font-medium text-gray-800 mb-2">Qualifications</h4>
                                <div class="flex flex-wrap gap-2">
                                    <span class="px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium">B777 Type Rating</span>
                                    <span class="px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium">B787 Type Rating</span>
                                    <span class="px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium">ETOPS</span>
                                    <span class="px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium">Cat III</span>
                                    <span class="px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium">TRI/TRE</span>
                                </div>
                            </div>
                            
                            <div class="border-t border-gray-200 pt-4 mt-4">
                                <h4 class="font-medium text-gray-800 mb-2">Current Status</h4>
                                <div class="flex items-center">
                                    <div class="w-3 h-3 bg-green-500 rounded-full mr-2"></div>
                                    <span class="text-green-700 font-medium">Active</span>
                                </div>
                                <p class="text-gray-600 text-sm mt-1">Next check due in 45 days</p>
                            </div>
                        </div>

                        <!-- Reports Section -->
                        <div class="lg:col-span-2 bg-white rounded-xl shadow">
                            <!-- Report Tabs -->
                            <div class="flex border-b border-gray-200">
                                <button class="report-tab px-4 py-3 text-sm font-medium text-blue-600 border-b-2 border-blue-600 active" data-report="annual">Annual Check</button>
                                <button class="report-tab px-4 py-3 text-sm font-medium text-gray-600 hover:text-gray-800" data-report="proficiency">Proficiency Check</button>
                                <button class="report-tab px-4 py-3 text-sm font-medium text-gray-600 hover:text-gray-800" data-report="recurrent">Recurrent Report</button>
                                <button class="report-tab px-4 py-3 text-sm font-medium text-gray-600 hover:text-gray-800" data-report="history">Training History</button>
                            </div>
                            
                            <!-- Report Content -->
                            <div class="p-6">
                                <!-- Annual Check Report -->
                                <div id="annual-report" class="report-content active">
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                        <!-- Performance Summary -->
                                        <div>
                                            <h3 class="font-semibold text-gray-800 mb-4">Performance Summary</h3>
                                            <div class="space-y-4">
                                                <div>
                                                    <div class="flex justify-between mb-1">
                                                        <span class="text-sm font-medium text-gray-700">Technical Knowledge</span>
                                                        <span class="text-sm font-medium text-gray-700">92%</span>
                                                    </div>
                                                    <div class="w-full bg-gray-200 rounded-full h-2">
                                                        <div class="bg-blue-600 h-2 rounded-full" style="width: 92%"></div>
                                                    </div>
                                                </div>
                                                <div>
                                                    <div class="flex justify-between mb-1">
                                                        <span class="text-sm font-medium text-gray-700">Flight Operations</span>
                                                        <span class="text-sm font-medium text-gray-700">88%</span>
                                                    </div>
                                                    <div class="w-full bg-gray-200 rounded-full h-2">
                                                        <div class="bg-blue-600 h-2 rounded-full" style="width: 88%"></div>
                                                    </div>
                                                </div>
                                                <div>
                                                    <div class="flex justify-between mb-1">
                                                        <span class="text-sm font-medium text-gray-700">Emergency Procedures</span>
                                                        <span class="text-sm font-medium text-gray-700">95%</span>
                                                    </div>
                                                    <div class="w-full bg-gray-200 rounded-full h-2">
                                                        <div class="bg-blue-600 h-2 rounded-full" style="width: 95%"></div>
                                                    </div>
                                                </div>
                                                <div>
                                                    <div class="flex justify-between mb-1">
                                                        <span class="text-sm font-medium text-gray-700">CRM</span>
                                                        <span class="text-sm font-medium text-gray-700">90%</span>
                                                    </div>
                                                    <div class="w-full bg-gray-200 rounded-full h-2">
                                                        <div class="bg-blue-600 h-2 rounded-full" style="width: 90%"></div>
                                                    </div>
                                                </div>
                                                <div>
                                                    <div class="flex justify-between mb-1">
                                                        <span class="text-sm font-medium text-gray-700">Overall Rating</span>
                                                        <span class="text-sm font-medium text-gray-700">91%</span>
                                                    </div>
                                                    <div class="w-full bg-gray-200 rounded-full h-2">
                                                        <div class="bg-green-600 h-2 rounded-full" style="width: 91%"></div>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <div class="mt-6">
                                                <h4 class="font-medium text-gray-800 mb-2">Examiner Comments</h4>
                                                <p class="text-gray-600 text-sm">Captain Doe demonstrated excellent technical knowledge and operational skills during the annual check. His decision-making was sound and CRM skills were effectively applied throughout all scenarios. Recommended to continue as line instructor.</p>
                                            </div>
                                        </div>
                                        
                                        <!-- Check Details -->
                                        <div class="bg-gray-50 p-4 rounded-lg">
                                            <h3 class="font-semibold text-gray-800 mb-4">Check Details</h3>
                                            <div class="space-y-3">
                                                <div class="flex justify-between">
                                                    <span class="text-gray-600">Check Date:</span>
                                                    <span class="font-medium text-gray-800">March 10, 2023</span>
                                                </div>
                                                <div class="flex justify-between">
                                                    <span class="text-gray-600">Examiner:</span>
                                                    <span class="font-medium text-gray-800">Capt. Robert Wilson</span>
                                                </div>
                                                <div class="flex justify-between">
                                                    <span class="text-gray-600">Aircraft Type:</span>
                                                    <span class="font-medium text-gray-800">B777-300ER</span>
                                                </div>
                                                <div class="flex justify-between">
                                                    <span class="text-gray-600">Duration:</span>
                                                    <span class="font-medium text-gray-800">4 hours</span>
                                                </div>
                                                <div class="flex justify-between">
                                                    <span class="text-gray-600">Result:</span>
                                                    <span class="font-medium text-green-600">Passed</span>
                                                </div>
                                                <div class="flex justify-between">
                                                    <span class="text-gray-600">Next Due Date:</span>
                                                    <span class="font-medium text-gray-800">March 10, 2024</span>
                                                </div>
                                            </div>
                                            
                                            <div class="mt-6">
                                                <h4 class="font-medium text-gray-800 mb-2">Areas of Excellence</h4>
                                                <ul class="list-disc list-inside text-sm text-gray-600 space-y-1">
                                                    <li>Emergency procedures execution</li>
                                                    <li>Crew coordination during abnormal situations</li>
                                                    <li>Technical systems knowledge</li>
                                                </ul>
                                            </div>
                                            
                                            <div class="mt-4">
                                                <h4 class="font-medium text-gray-800 mb-2">Areas for Improvement</h4>
                                                <ul class="list-disc list-inside text-sm text-gray-600 space-y-1">
                                                    <li>Briefing thoroughness during high workload</li>
                                                    <li>Fuel management optimization</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Proficiency Check Report -->
                                <div id="proficiency-report" class="report-content">
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                        <!-- Performance Summary -->
                                        <div>
                                            <h3 class="font-semibold text-gray-800 mb-4">Performance Summary</h3>
                                            <div class="space-y-4">
                                                <div>
                                                    <div class="flex justify-between mb-1">
                                                        <span class="text-sm font-medium text-gray-700">Manual Flying Skills</span>
                                                        <span class="text-sm font-medium text-gray-700">89%</span>
                                                    </div>
                                                    <div class="w-full bg-gray-200 rounded-full h-2">
                                                        <div class="bg-blue-600 h-2 rounded-full" style="width: 89%"></div>
                                                    </div>
                                                </div>
                                                <div>
                                                    <div class="flex justify-between mb-1">
                                                        <span class="text-sm font-medium text-gray-700">Instrument Procedures</span>
                                                        <span class="text-sm font-medium text-gray-700">94%</span>
                                                    </div>
                                                    <div class="w-full bg-gray-200 rounded-full h-2">
                                                        <div class="bg-blue-600 h-2 rounded-full" style="width: 94%"></div>
                                                    </div>
                                                </div>
                                                <div>
                                                    <div class="flex justify-between mb-1">
                                                        <span class="text-sm font-medium text-gray-700">Non-normal Procedures</span>
                                                        <span class="text-sm font-medium text-gray-700">92%</span>
                                                    </div>
                                                    <div class="w-full bg-gray-200 rounded-full h-2">
                                                        <div class="bg-blue-600 h-2 rounded-full" style="width: 92%"></div>
                                                    </div>
                                                </div>
                                                <div>
                                                    <div class="flex justify-between mb-1">
                                                        <span class="text-sm font-medium text-gray-700">Decision Making</span>
                                                        <span class="text-sm font-medium text-gray-700">87%</span>
                                                    </div>
                                                    <div class="w-full bg-gray-200 rounded-full h-2">
                                                        <div class="bg-blue-600 h-2 rounded-full" style="width: 87%"></div>
                                                    </div>
                                                </div>
                                                <div>
                                                    <div class="flex justify-between mb-1">
                                                        <span class="text-sm font-medium text-gray-700">Overall Rating</span>
                                                        <span class="text-sm font-medium text-gray-700">90%</span>
                                                    </div>
                                                    <div class="w-full bg-gray-200 rounded-full h-2">
                                                        <div class="bg-green-600 h-2 rounded-full" style="width: 90%"></div>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <div class="mt-6">
                                                <h4 class="font-medium text-gray-800 mb-2">Examiner Comments</h4>
                                                <p class="text-gray-600 text-sm">Captain Doe handled all simulator scenarios professionally with good situational awareness. Demonstrated strong technical skills and effective use of automation. Excellent handling of the engine failure scenario with proper execution of all required procedures.</p>
                                            </div>
                                        </div>
                                        
                                        <!-- Check Details -->
                                        <div class="bg-gray-50 p-4 rounded-lg">
                                            <h3 class="font-semibold text-gray-800 mb-4">Check Details</h3>
                                            <div class="space-y-3">
                                                <div class="flex justify-between">
                                                    <span class="text-gray-600">Check Date:</span>
                                                    <span class="font-medium text-gray-800">September 15, 2023</span>
                                                </div>
                                                <div class="flex justify-between">
                                                    <span class="text-gray-600">Examiner:</span>
                                                    <span class="font-medium text-gray-800">Capt. Michael Chen</span>
                                                </div>
                                                <div class="flex justify-between">
                                                    <span class="text-gray-600">Aircraft Type:</span>
                                                    <span class="font-medium text-gray-800">B777-300ER (Simulator)</span>
                                                </div>
                                                <div class="flex justify-between">
                                                    <span class="text-gray-600">Duration:</span>
                                                    <span class="font-medium text-gray-800">4.5 hours</span>
                                                </div>
                                                <div class="flex justify-between">
                                                    <span class="text-gray-600">Result:</span>
                                                    <span class="font-medium text-green-600">Passed</span>
                                                </div>
                                                <div class="flex justify-between">
                                                    <span class="text-gray-600">Next Due Date:</span>
                                                    <span class="font-medium text-gray-800">March 15, 2024</span>
                                                </div>
                                            </div>
                                            
                                            <div class="mt-6">
                                                <h4 class="font-medium text-gray-800 mb-2">Scenarios Tested</h4>
                                                <ul class="list-disc list-inside text-sm text-gray-600 space-y-1">
                                                    <li>Engine failure during takeoff</li>
                                                    <li>Rejected takeoff</li>
                                                    <li>Hydraulic system failure</li>
                                                    <li>CAT III approach with system degradation</li>
                                                    <li>Windshear recovery</li>
                                                </ul>
                                            </div>
                                            
                                            <div class="mt-4">
                                                <h4 class="font-medium text-gray-800 mb-2">Recommendations</h4>
                                                <p class="text-sm text-gray-600">Continue to focus on manual flying skills during cruise phase to maintain proficiency. Review updated procedures for dual hydraulic system failures.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Recurrent Report -->
                                <div id="recurrent-report" class="report-content">
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                        <!-- Performance Summary -->
                                        <div>
                                            <h3 class="font-semibold text-gray-800 mb-4">Performance Summary</h3>
                                            <div class="space-y-4">
                                                <div>
                                                    <div class="flex justify-between mb-1">
                                                        <span class="text-sm font-medium text-gray-700">Systems Knowledge</span>
                                                        <span class="text-sm font-medium text-gray-700">96%</span>
                                                    </div>
                                                    <div class="w-full bg-gray-200 rounded-full h-2">
                                                        <div class="bg-blue-600 h-2 rounded-full" style="width: 96%"></div>
                                                    </div>
                                                </div>
                                                <div>
                                                    <div class="flex justify-between mb-1">
                                                        <span class="text-sm font-medium text-gray-700">SOPs</span>
                                                        <span class="text-sm font-medium text-gray-700">93%</span>
                                                    </div>
                                                    <div class="w-full bg-gray-200 rounded-full h-2">
                                                        <div class="bg-blue-600 h-2 rounded-full" style="width: 93%"></div>
                                                    </div>
                                                </div>
                                                <div>
                                                    <div class="flex justify-between mb-1">
                                                        <span class="text-sm font-medium text-gray-700">Regulations</span>
                                                        <span class="text-sm font-medium text-gray-700">91%</span>
                                                    </div>
                                                    <div class="w-full bg-gray-200 rounded-full h-2">
                                                        <div class="bg-blue-600 h-2 rounded-full" style="width: 91%"></div>
                                                    </div>
                                                </div>
                                                <div>
                                                    <div class="flex justify-between mb-1">
                                                        <span class="text-sm font-medium text-gray-700">Safety Procedures</span>
                                                        <span class="text-sm font-medium text-gray-700">95%</span>
                                                    </div>
                                                    <div class="w-full bg-gray-200 rounded-full h-2">
                                                        <div class="bg-blue-600 h-2 rounded-full" style="width: 95%"></div>
                                                    </div>
                                                </div>
                                                <div>
                                                    <div class="flex justify-between mb-1">
                                                        <span class="text-sm font-medium text-gray-700">Overall Rating</span>
                                                        <span class="text-sm font-medium text-gray-700">94%</span>
                                                    </div>
                                                    <div class="w-full bg-gray-200 rounded-full h-2">
                                                        <div class="bg-green-600 h-2 rounded-full" style="width: 94%"></div>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <div class="mt-6">
                                                <h4 class="font-medium text-gray-800 mb-2">Instructor Comments</h4>
                                                <p class="text-gray-600 text-sm">Captain Doe shows excellent knowledge retention and application of procedures. Particularly strong in systems knowledge and safety procedures. Actively participated in all discussions and demonstrated thorough understanding of recent regulatory changes.</p>
                                            </div>
                                        </div>
                                        
                                        <!-- Check Details -->
                                        <div class="bg-gray-50 p-4 rounded-lg">
                                            <h3 class="font-semibold text-gray-800 mb-4">Check Details</h3>
                                            <div class="space-y-3">
                                                <div class="flex justify-between">
                                                    <span class="text-gray-600">Check Date:</span>
                                                    <span class="font-medium text-gray-800">December 5, 2023</span>
                                                </div>
                                                <div class="flex justify-between">
                                                    <span class="text-gray-600">Examiner:</span>
                                                    <span class="font-medium text-gray-800">Capt. Sarah Johnson</span>
                                                </div>
                                                <div class="flex justify-between">
                                                    <span class="text-gray-600">Aircraft Type:</span>
                                                    <span class="font-medium text-gray-800">B777-300ER (Ground Training)</span>
                                                </div>
                                                <div class="flex justify-between">
                                                    <span class="text-gray-600">Duration:</span>
                                                    <span class="font-medium text-gray-800">3 days</span>
                                                </div>
                                                <div class="flex justify-between">
                                                    <span class="text-gray-600">Result:</span>
                                                    <span class="font-medium text-green-600">Completed</span>
                                                </div>
                                                <div class="flex justify-between">
                                                    <span class="text-gray-600">Next Due Date:</span>
                                                    <span class="font-medium text-gray-800">December 5, 2024</span>
                                                </div>
                                            </div>
                                            
                                            <div class="mt-6">
                                                <h4 class="font-medium text-gray-800 mb-2">Training Modules Completed</h4>
                                                <ul class="list-disc list-inside text-sm text-gray-600 space-y-1">
                                                    <li>Updated MEL procedures</li>
                                                    <li>New weather radar system</li>
                                                    <li>Revised fuel policy</li>
                                                    <li>Security procedures update</li>
                                                    <li>Human factors refresher</li>
                                                </ul>
                                            </div>
                                            
                                            <div class="mt-4">
                                                <h4 class="font-medium text-gray-800 mb-2">Additional Notes</h4>
                                                <p class="text-sm text-gray-600">Captain Doe volunteered to assist in developing training materials for the new weather radar system based on his extensive experience.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Training History -->
                                <div id="history-report" class="report-content">
                                    <h3 class="font-semibold text-gray-800 mb-4">Training History</h3>
                                    <div class="overflow-x-auto">
                                        <table class="min-w-full">
                                            <thead>
                                                <tr class="border-b border-gray-200">
                                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Date</th>
                                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Training Type</th>
                                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Aircraft</th>
                                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Instructor</th>
                                                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Result</th>
                                                </tr>
                                            </thead>
                                            <tbody class="divide-y divide-gray-200">
                                                <tr>
                                                    <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-600">Dec 5, 2023</td>
                                                    <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-600">Recurrent Training</td>
                                                    <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-600">B777-300ER</td>
                                                    <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-600">Capt. Sarah Johnson</td>
                                                    <td class="px-4 py-3 whitespace-nowrap">
                                                        <span class="px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800">Completed</span>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-600">Sep 15, 2023</td>
                                                    <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-600">Proficiency Check</td>
                                                    <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-600">B777-300ER</td>
                                                    <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-600">Capt. Michael Chen</td>
                                                    <td class="px-4 py-3 whitespace-nowrap">
                                                        <span class="px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800">Passed</span>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-600">Mar 10, 2023</td>
                                                    <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-600">Annual Check</td>
                                                    <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-600">B777-300ER</td>
                                                    <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-600">Capt. Robert Wilson</td>
                                                    <td class="px-4 py-3 whitespace-nowrap">
                                                        <span class="px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800">Passed</span>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-600">Dec 8, 2022</td>
                                                    <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-600">Recurrent Training</td>
                                                    <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-600">B777-300ER</td>
                                                    <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-600">Capt. Jennifer Lee</td>
                                                    <td class="px-4 py-3 whitespace-nowrap">
                                                        <span class="px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800">Completed</span>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-600">Sep 20, 2022</td>
                                                    <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-600">Proficiency Check</td>
                                                    <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-600">B777-300ER</td>
                                                    <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-600">Capt. David Thompson</td>
                                                    <td class="px-4 py-3 whitespace-nowrap">
                                                        <span class="px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800">Passed</span>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-600">Mar 15, 2022</td>
                                                    <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-600">Annual Check</td>
                                                    <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-600">B777-300ER</td>
                                                    <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-600">Capt. Robert Wilson</td>
                                                    <td class="px-4 py-3 whitespace-nowrap">
                                                        <span class="px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800">Passed</span>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-600">Jun 10, 2021</td>
                                                    <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-600">B787 Cross-Qualification</td>
                                                    <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-600">B787-9</td>
                                                    <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-600">Capt. Thomas Garcia</td>
                                                    <td class="px-4 py-3 whitespace-nowrap">
                                                        <span class="px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800">Qualified</span>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    
                                    <div class="mt-6 bg-gray-50 p-4 rounded-lg">
                                        <h4 class="font-medium text-gray-800 mb-2">Training Summary</h4>
                                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                            <div class="bg-white p-3 rounded-lg border border-gray-200">
                                                <div class="text-center">
                                                    <div class="text-3xl font-bold text-blue-600">24</div>
                                                    <div class="text-sm text-gray-600">Total Training Events</div>
                                                </div>
                                            </div>
                                            <div class="bg-white p-3 rounded-lg border border-gray-200">
                                                <div class="text-center">
                                                    <div class="text-3xl font-bold text-green-600">100%</div>
                                                    <div class="text-sm text-gray-600">Pass Rate</div>
                                                </div>
                                            </div>
                                            <div class="bg-white p-3 rounded-lg border border-gray-200">
                                                <div class="text-center">
                                                    <div class="text-3xl font-bold text-purple-600">3</div>
                                                    <div class="text-sm text-gray-600">Aircraft Types</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Saved Reports -->
                    <div class="bg-white rounded-xl shadow p-6">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="font-semibold text-gray-800">Saved Records</h3>
                            <button class="text-blue-600 text-sm font-medium">Manage Records</button>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="min-w-full">
                                <thead>
                                    <tr class="border-b border-gray-200">
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Record Name</th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Type</th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Created</th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Last Run</th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-gray-200">
                                    <tr>
                                        <td class="px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-800">Monthly Performance Summary</td>
                                        <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-600">Performance</td>
                                        <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-600">May 1, 2023</td>
                                        <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-600">Today, 8:30 AM</td>
                                        <td class="px-4 py-3 whitespace-nowrap text-sm">
                                            <div class="flex space-x-2">
                                                <button class="text-blue-600 hover:text-blue-800">Run</button>
                                                <button class="text-gray-600 hover:text-gray-800">Edit</button>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-800">Assessment Completion Rates</td>
                                        <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-600">Assessment</td>
                                        <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-600">Apr 15, 2023</td>
                                        <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-600">Yesterday, 2:15 PM</td>
                                        <td class="px-4 py-3 whitespace-nowrap text-sm">
                                            <div class="flex space-x-2">
                                                <button class="text-blue-600 hover:text-blue-800">Run</button>
                                                <button class="text-gray-600 hover:text-gray-800">Edit</button>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-800">Training Efficiency Analysis</td>
                                        <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-600">Efficiency</td>
                                        <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-600">Mar 22, 2023</td>
                                        <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-600">Last week</td>
                                        <td class="px-4 py-3 whitespace-nowrap text-sm">
                                            <div class="flex space-x-2">
                                                <button class="text-blue-600 hover:text-blue-800">Run</button>
                                                <button class="text-gray-600 hover:text-gray-800">Edit</button>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Settings Tab -->
                <div id="settings" class="tab-content">
                    <div class="mb-6">
                        <h2 class="text-2xl font-bold text-gray-800">Settings</h2>
                        <p class="text-gray-600">Manage system configuration and user preferences</p>
                    </div>

                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <!-- User Management -->
                        <div class="bg-white rounded-xl shadow p-6">
                            <h3 class="font-semibold text-gray-800 mb-4">User Management</h3>
                            <div class="space-y-4">
                                <button class="w-full flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors">
                                    <div class="flex items-center space-x-3">
                                        <div class="bg-blue-100 p-2 rounded-lg">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z" />
                                            </svg>
                                        </div>
                                        <div class="text-left">
                                            <div class="font-medium text-gray-800">Manage Instructors</div>
                                            <div class="text-sm text-gray-600">Add, edit, or remove instructor accounts</div>
                                        </div>
                                    </div>
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                                    </svg>
                                </button>

                                <button class="w-full flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors">
                                    <div class="flex items-center space-x-3">
                                        <div class="bg-green-100 p-2 rounded-lg">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                                            </svg>
                                        </div>
                                        <div class="text-left">
                                            <div class="font-medium text-gray-800">Manage Trainees</div>
                                            <div class="text-sm text-gray-600">Add, edit, or remove trainee accounts</div>
                                        </div>
                                    </div>
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                                    </svg>
                                </button>
                            </div>
                        </div>

                        <!-- Assessment Management -->
                        <div class="bg-white rounded-xl shadow p-6">
                            <h3 class="font-semibold text-gray-800 mb-4">Assessment Management</h3>
                            <div class="space-y-4">
                                <button class="w-full flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors">
                                    <div class="flex items-center space-x-3">
                                        <div class="bg-purple-100 p-2 rounded-lg">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-purple-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01" />
                                            </svg>
                                        </div>
                                        <div class="text-left">
                                            <div class="font-medium text-gray-800">Manage Assessments</div>
                                            <div class="text-sm text-gray-600">Create, edit, or archive assessments</div>
                                        </div>
                                    </div>
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                                    </svg>
                                </button>

                                <button class="w-full flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors">
                                    <div class="flex items-center space-x-3">
                                        <div class="bg-orange-100 p-2 rounded-lg">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-orange-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                                            </svg>
                                        </div>
                                        <div class="text-left">
                                            <div class="font-medium text-gray-800">System Configuration</div>
                                            <div class="text-sm text-gray-600">Configure system-wide settings</div>
                                        </div>
                                    </div>
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                                    </svg>
                                </button>
                            </div>
                        </div>

                        <!-- System Information -->
                        <div class="bg-white rounded-xl shadow p-6">
                            <h3 class="font-semibold text-gray-800 mb-4">System Information</h3>
                            <div class="space-y-3">
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Version:</span>
                                    <span class="font-medium text-gray-800">v2.1.0</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Database Status:</span>
                                    <span class="font-medium text-green-600">Connected</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Last Backup:</span>
                                    <span class="font-medium text-gray-800">Today, 3:00 AM</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Active Users:</span>
                                    <span class="font-medium text-gray-800">24</span>
                                </div>
                            </div>
                        </div>

                        <!-- Quick Actions -->
                        <div class="bg-white rounded-xl shadow p-6">
                            <h3 class="font-semibold text-gray-800 mb-4">Quick Actions</h3>
                            <div class="grid grid-cols-2 gap-3">
                                <button class="flex flex-col items-center p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-blue-600 mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
                                    </svg>
                                    <span class="text-sm font-medium text-gray-800">Export Data</span>
                                </button>
                                <button class="flex flex-col items-center p-4 bg-green-50 rounded-lg hover:bg-green-100 transition-colors">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-green-600 mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
                                    </svg>
                                    <span class="text-sm font-medium text-gray-800">Import Data</span>
                                </button>
                                <button class="flex flex-col items-center p-4 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-purple-600 mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                                    </svg>
                                    <span class="text-sm font-medium text-gray-800">Generate Report</span>
                                </button>
                                <button class="flex flex-col items-center p-4 bg-red-50 rounded-lg hover:bg-red-100 transition-colors">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-red-600 mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                                    </svg>
                                    <span class="text-sm font-medium text-gray-800">Clear Cache</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script>
        // Tab Switching
        document.addEventListener('DOMContentLoaded', function() {
            const tabButtons = document.querySelectorAll('.tab-button');
            const tabContents = document.querySelectorAll('.tab-content');
            
            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const tabId = button.getAttribute('data-tab');
                    
                    // Update active tab button
                    tabButtons.forEach(btn => {
                        btn.classList.remove('border-blue-600', 'text-blue-600');
                        btn.classList.add('border-transparent', 'text-gray-600', 'hover:text-gray-800');
                    });
                    button.classList.remove('border-transparent', 'text-gray-600', 'hover:text-gray-800');
                    button.classList.add('border-blue-600', 'text-blue-600');
                    
                    // Show active tab content
                    tabContents.forEach(content => {
                        content.classList.remove('active');
                    });
                    document.getElementById(tabId).classList.add('active');
                });
            });
            
            // Report Tab Switching
            const reportTabs = document.querySelectorAll('.report-tab');
            const reportContents = document.querySelectorAll('.report-content');
            
            reportTabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const reportId = tab.getAttribute('data-report');
                    
                    // Update active report tab
                    reportTabs.forEach(t => {
                        t.classList.remove('active', 'text-blue-600', 'border-b-2', 'border-blue-600', 'bg-blue-600', 'text-white');
                        t.classList.add('text-gray-600', 'hover:text-gray-800');
                    });
                    tab.classList.remove('text-gray-600', 'hover:text-gray-800');
                    tab.classList.add('active', 'text-white', 'bg-blue-600');
                    
                    // Show active report content
                    reportContents.forEach(content => {
                        content.classList.remove('active');
                    });
                    document.getElementById(reportId + '-report').classList.add('active');
                });
            });
            
            // Initialize Charts
            initCharts();
        });
        
        // Define skill data sets globally (with default data, will be updated with real data)
        const technicalSkills = {
            labels: ['Handling', 'Navigation', 'Emergency Procedures'],
            datasets: [{
                label: 'Technical Skills',
                data: [78, 65, 82], // Default fallback data
                backgroundColor: 'rgba(59, 130, 246, 0.2)',
                borderColor: '#3b82f6',
                pointBackgroundColor: '#3b82f6',
                pointBorderColor: '#fff',
                pointHoverBackgroundColor: '#fff',
                pointHoverBorderColor: '#3b82f6'
            }]
        };
        
        const softSkills = {
            labels: ['CRM', 'Communication', 'Teamwork'],
            datasets: [{
                label: 'Soft Skills',
                data: [85, 72, 90], // Default fallback data
                backgroundColor: 'rgba(139, 92, 246, 0.2)',
                borderColor: '#8b5cf6',
                pointBackgroundColor: '#8b5cf6',
                pointBorderColor: '#fff',
                pointHoverBackgroundColor: '#fff',
                pointHoverBorderColor: '#8b5cf6'
            }]
        };

        // Helper functions for real skill data handling
        function getCurrentSkillFilter() {
            // Check which button is currently active
            const technicalBtn = document.getElementById('skillFilterTechnical');
            const softBtn = document.getElementById('skillFilterSoft');
            
            if (technicalBtn && technicalBtn.classList.contains('active')) {
                return 'technical';
            } else if (softBtn && softBtn.classList.contains('active')) {
                return 'soft';
            }
            return 'technical'; // Default to technical
        }

        function updateSkillChartWithRealData(skillsData, filter) {
            if (!window.skillsChart || !skillsData) return;
            
            try {
                let chartData;
                
                if (filter === 'technical') {
                    chartData = {
                        labels: ['Handling', 'Navigation', 'Emergency Procedures'],
                        datasets: [{
                            label: 'Technical Skills',
                            data: [
                                skillsData.handling || 0,
                                skillsData.navigation || 0,
                                skillsData.emergency || 0
                            ],
                            backgroundColor: 'rgba(59, 130, 246, 0.2)',
                            borderColor: '#3b82f6',
                            pointBackgroundColor: '#3b82f6',
                            pointBorderColor: '#fff',
                            pointHoverBackgroundColor: '#fff',
                            pointHoverBorderColor: '#3b82f6'
                        }]
                    };
                } else {
                    chartData = {
                        labels: ['CRM', 'Communication', 'Teamwork'],
                        datasets: [{
                            label: 'Soft Skills',
                            data: [
                                skillsData.crm || 0,
                                skillsData.crm || 0, // Use CRM for communication proxy
                                skillsData.crm || 0  // Use CRM for teamwork proxy
                            ],
                            backgroundColor: 'rgba(139, 92, 246, 0.2)',
                            borderColor: '#8b5cf6',
                            pointBackgroundColor: '#8b5cf6',
                            pointBorderColor: '#fff',
                            pointHoverBackgroundColor: '#fff',
                            pointHoverBorderColor: '#8b5cf6'
                        }]
                    };
                }
                
                // Destroy and recreate chart with new data
                window.skillsChart.destroy();
                
                const skillsCtx = document.getElementById('skillsChart');
                if (skillsCtx) {
                    window.skillsChart = new Chart(skillsCtx, {
                        type: 'radar',
                        data: chartData,
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            scales: {
                                r: {
                                    beginAtZero: true,
                                    max: 100,
                                    ticks: {
                                        display: false
                                    }
                                }
                            },
                            plugins: {
                                legend: {
                                    display: true
                                }
                            },
                            animation: {
                                duration: 500
                            }
                        }
                    });
                    console.log('✅ Skill chart updated with real data:', filter, skillsData);
                }
            } catch (error) {
                console.error('Error updating skill chart with real data:', error);
            }
        }

        // Function to update the skill chart based on filter (global scope)
        function updateSkillChart(filter) {
            if (!window.skillsChart) {
                console.error('Skills chart not initialized');
                return;
            }
            
            console.log('Updating skill chart with filter:', filter);
            
            // Update active button styling
            document.querySelectorAll('.skill-filter-btn').forEach(btn => {
                btn.classList.remove('active', 'bg-blue-50', 'text-blue-600', 'bg-blue-600', 'text-white');
                btn.classList.add('text-gray-500', 'hover:bg-gray-50');
            });
            
            let activeBtn = filter === 'technical' ? 
                document.getElementById('skillFilterTechnical') : 
                document.getElementById('skillFilterSoft');
            
            if (activeBtn) {
                activeBtn.classList.remove('text-gray-500', 'hover:bg-gray-50');
                activeBtn.classList.add('active', 'bg-blue-50', 'text-blue-600');
            }
            
            // Check if we have real skill data available
            if (window.realSkillsData) {
                console.log('Using real skill data for update');
                updateSkillChartWithRealData(window.realSkillsData, filter);
            } else {
                // Fall back to static data
                console.log('Using static skill data for update');
                let chartData = filter === 'technical' ? technicalSkills : softSkills;
                
                try {
                    window.skillsChart.destroy();
                    
                    const skillsCtx = document.getElementById('skillsChart');
                    if (skillsCtx) {
                        window.skillsChart = new Chart(skillsCtx, {
                            type: 'radar',
                            data: {
                                labels: chartData.labels,
                                datasets: chartData.datasets
                            },
                            options: {
                                responsive: true,
                                maintainAspectRatio: false,
                                scales: {
                                    r: {
                                        beginAtZero: true,
                                        max: 100,
                                        ticks: {
                                            display: false
                                        }
                                    }
                                },
                                plugins: {
                                    legend: {
                                        display: true
                                    }
                                },
                                animation: {
                                    duration: 500
                                }
                            }
                        });
                        console.log('Chart recreated successfully for filter:', filter);
                    } else {
                        console.error('Could not find skillsChart canvas element');
                    }
                } catch (error) {
                    console.error('Error updating chart:', error);
                }
            }
        }

        // Charts Initialization
        function initCharts() {
            // Training Records Status Chart (Submitted vs Pending)
            const progressCtx = document.getElementById('progressChart');
            if (progressCtx) {
                window.progressChart = new Chart(progressCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                        datasets: [
                            {
                                label: 'Records Submitted',
                                data: [65, 78, 82, 75, 92, 85],
                                backgroundColor: 'rgba(59, 130, 246, 0.7)',
                                borderColor: '#3b82f6',
                                borderWidth: 1
                            },
                            {
                                label: 'Records Pending',
                                data: [15, 12, 8, 18, 5, 10],
                                backgroundColor: 'rgba(239, 68, 68, 0.7)',
                                borderColor: '#ef4444',
                                borderWidth: 1
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'top',
                            },
                            tooltip: {
                                mode: 'index',
                                intersect: false
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                stacked: false,
                                title: {
                                    display: true,
                                    text: 'Number of Records'
                                },
                                grid: {
                                    display: true,
                                    color: 'rgba(0, 0, 0, 0.05)'
                                }
                            },
                            x: {
                                stacked: false,
                                grid: {
                                    display: false
                                }
                            }
                        }
                    }
                });
            }
            
            // Skills Chart
            const skillsCtx = document.getElementById('skillsChart');
            if (skillsCtx) {
                window.skillsChart = new Chart(skillsCtx, {
                    type: 'radar',
                    data: technicalSkills,
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            r: {
                                beginAtZero: true,
                                max: 100,
                                ticks: {
                                    display: false
                                }
                            }
                        },
                        plugins: {
                            legend: {
                                display: true
                            }
                        },
                        animation: {
                            duration: 500
                        }
                    }
                });
                
                // Add event listeners for skill filter buttons
                document.getElementById('skillFilterTechnical').addEventListener('click', function() {
                    updateSkillChart('technical');
                });
                
                document.getElementById('skillFilterSoft').addEventListener('click', function() {
                    updateSkillChart('soft');
                });
                
                // Load real data from backend after charts are initialized
                setTimeout(() => {
                    console.log('Charts should be ready, checking...');
                    console.log('progressChart exists:', !!window.progressChart);
                    console.log('skillsChart exists:', !!window.skillsChart);
                    
                    if (window.progressChart && window.skillsChart) {
                        console.log('Both charts exist, loading data...');
                        loadDashboardData();
                        loadRecentActivity();
                        
                        // Check if there's pending data from earlier calls
                        if (window.pendingAssessmentData) {
                            console.log('Found pending assessment data, updating charts...');
                            updateChartsWithRealData(window.pendingAssessmentData);
                            window.pendingAssessmentData = null; // Clear the pending data
                        }
                    } else {
                        console.log('Charts not ready, waiting longer...');
                        setTimeout(() => {
                            console.log('Second attempt - progressChart:', !!window.progressChart);
                            console.log('Second attempt - skillsChart:', !!window.skillsChart);
                            loadDashboardData();
                            loadRecentActivity();
                            
                            // Check for pending data on second attempt too
                            if (window.pendingAssessmentData) {
                                console.log('Found pending assessment data on second attempt, updating charts...');
                                updateChartsWithRealData(window.pendingAssessmentData);
                                window.pendingAssessmentData = null;
                            }
                        }, 500);
                    }
                }, 300);
            }
            

            
            // Data loading now happens inside initCharts()
            
            // Initialize training records pilot selector
            initializeTrainingRecords();
            
            // Initialize all dashboard button interactivity
            initializeDashboardButtons();
            
            // Ensure tab names are always correct
            fixTabNames();
            
            // FINAL insurance - fix tab names after everything loads
            setTimeout(() => {
                fixTabNames();
            }, 2000);
        }
        
        function fixTabNames() {
            // AGGRESSIVELY force correct tab names - run multiple times to prevent ANY overwriting
            const tabSpans = document.querySelectorAll('.tab-button span');
            const correctNames = ['Dashboard', 'Assessment Forms', 'Training Records', 'Settings'];
            
            tabSpans.forEach((span, index) => {
                if (correctNames[index]) {
                    span.textContent = correctNames[index];
                    // Protect against future changes
                    Object.defineProperty(span, 'textContent', {
                        value: correctNames[index],
                        writable: false,
                        configurable: false
                    });
                }
            });
            
            // Run again after a delay to catch any late modifications
            setTimeout(() => {
                const spans = document.querySelectorAll('.tab-button span');
                spans.forEach((span, index) => {
                    if (correctNames[index] && span.textContent !== correctNames[index]) {
                        span.textContent = correctNames[index];
                    }
                });
            }, 1000);
            
            // Monitor for changes and fix them immediately
            const observer = new MutationObserver((mutations) => {
                mutations.forEach((mutation) => {
                    if (mutation.type === 'childList' || mutation.type === 'characterData') {
                        const spans = document.querySelectorAll('.tab-button span');
                        spans.forEach((span, index) => {
                            if (correctNames[index] && span.textContent !== correctNames[index]) {
                                span.textContent = correctNames[index];
                            }
                        });
                    }
                });
            });
            
            // Start observing
            document.querySelectorAll('.tab-button span').forEach(span => {
                observer.observe(span, { childList: true, characterData: true, subtree: true });
            });
        }
        
                 // Dashboard button interactivity
        function initializeDashboardButtons() {
            // Quick Stats Cards - Click to view details (first 4 metric cards)
            const statsCards = document.querySelectorAll('.bg-white.rounded-xl.shadow');
            for (let i = 0; i < Math.min(4, statsCards.length); i++) {
                const card = statsCards[i];
                if (card.querySelector('h3')) {
                    card.style.cursor = 'pointer';
                    card.addEventListener('click', () => {
                        const titles = ['Active Trainees', 'Assessments Completed', 'Average Score', 'Current Pairings'];
                        showNotification(`📊 ${titles[i]} Details`, `Showing detailed view for ${titles[i]}`);
                    });
                }
            }
            
            // Search functionality (header search)
            const headerSearch = document.querySelector('input[placeholder="Search..."]');
            if (headerSearch) {
                headerSearch.addEventListener('input', (e) => {
                    if (e.target.value.length > 2) {
                        showNotification('🔍 Search', `Searching for "${e.target.value}"...`);
                    }
                });
                headerSearch.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        showNotification('🔍 Search Results', `Found results for "${e.target.value}"`);
                    }
                });
            }
            
            // Assessment search functionality  
            const assessmentSearch = document.querySelector('input[placeholder="Search assessments..."]');
            if (assessmentSearch) {
                assessmentSearch.addEventListener('input', (e) => {
                    if (e.target.value.length > 2) {
                        showNotification('🔍 Assessment Search', `Searching assessments for "${e.target.value}"...`);
                    }
                });
            }
            
            // Auto-Pair button (with hyphen)
            const autoPairBtn = Array.from(document.querySelectorAll('button')).find(btn => btn.textContent.includes('Auto-Pair'));
            if (autoPairBtn) {
                autoPairBtn.addEventListener('click', async () => {
                    showNotification('🤖 Auto Pairing', 'Generating intelligent pairings...');
                    try {
                        const response = await fetch(`${API_BASE_URL}/api/pairings/auto-pair`, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' }
                        });
                        if (response.ok) {
                            showNotification('✅ Auto Pairing Complete', 'New training pairs have been generated!');
                            loadDashboardData(); // Refresh data
                        }
                    } catch (error) {
                        showNotification('❌ Pairing Error', 'Could not generate auto pairings');
                    }
                });
            }
            
            // Manual Match button
            const manualMatchBtn = Array.from(document.querySelectorAll('button')).find(btn => btn.textContent.includes('Manual Match'));
            if (manualMatchBtn) {
                manualMatchBtn.addEventListener('click', () => {
                    showNotification('👨‍✈️ Manual Pairing', 'Opening manual instructor-trainee pairing interface...');
                });
            }
            
            // View All Pairings button
            const viewAllBtn = Array.from(document.querySelectorAll('button')).find(btn => btn.textContent.includes('View All'));
            if (viewAllBtn) {
                viewAllBtn.addEventListener('click', () => {
                    showNotification('📋 All Pairings', 'Displaying complete pairing history and current assignments...');
                });
            }
            
            // Schedule buttons in intelligent pairing section
            const scheduleButtons = Array.from(document.querySelectorAll('button')).filter(btn => btn.textContent.trim() === 'Schedule');
            scheduleButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    // Find the trainee name in the parent card
                    const card = btn.closest('.pairing-card');
                    const traineeElement = card ? card.querySelector('.w-10.h-10.rounded-full') : null;
                    const traineeName = traineeElement ? traineeElement.textContent.trim() : 'Pilot';
                    showNotification('📅 Training Scheduled', `${traineeName} has been successfully scheduled for training!`);
                });
            });
            
            // Assessment tab buttons (exclude the one with specific ID to avoid duplicates)
            const createAssessmentBtn = Array.from(document.querySelectorAll('button:not(#createAssessmentTabBtn)')).find(btn => btn.textContent.includes('Create Assessment'));
            if (createAssessmentBtn) {
                createAssessmentBtn.addEventListener('click', (e) => {
                    e.preventDefault();
                    console.log('Create Assessment button clicked - opening in new tab!');
                    
                    // Try multiple approaches to open the form
                    const timestamp = new Date().getTime();
                    const url = `http://localhost:3000/assessment-form.html?t=${timestamp}`;
                    console.log('Opening URL with cache bypass:', url);
                    
                    // Method 1: Standard window.open
                    console.log('About to open URL:', url);
                    let newWindow = window.open(url, '_blank', 'width=1200,height=800,scrollbars=yes,resizable=yes,toolbar=yes,menubar=yes');
                    console.log('Window opened:', newWindow);
                    
                    if (!newWindow || newWindow.closed || typeof newWindow.closed == 'undefined') {
                        console.log('Popup blocked! Trying alternative methods...');
                        
                        // Method 2: Create a temporary link and click it
                        const link = document.createElement('a');
                        link.href = url;
                        link.target = '_blank';
                        link.rel = 'noopener noreferrer';
                        document.body.appendChild(link);
                        link.click();
                        document.body.removeChild(link);
                        
                        // Method 3: Show URL for manual copy
                        showNotification('🔗 Assessment Form', `Copy this URL: ${url}`, 10000);
                        
                        // Method 4: Try to copy URL to clipboard
                        if (navigator.clipboard) {
                            navigator.clipboard.writeText(url).then(() => {
                                showNotification('📋 URL Copied!', 'Assessment form URL copied to clipboard - paste in new tab!', 8000);
                            }).catch(() => {
                                console.log('Clipboard access failed');
                            });
                        }
                    } else {
                        console.log('New tab opened successfully!');
                        showNotification('✅ Form Opened', 'Assessment form opened in new tab!');
                    }
                });
            } else {
                console.log('Create Assessment button not found!');
            }
            
            // Also connect the button in the Assessment Forms tab
            const createAssessmentTabBtn = document.getElementById('createAssessmentTabBtn');
            if (createAssessmentTabBtn) {
                createAssessmentTabBtn.addEventListener('click', (e) => {
                    e.preventDefault();
                    console.log('Assessment tab Create button clicked - opening in new tab!');
                    
                    const timestamp = new Date().getTime();
                    const url = `http://localhost:3000/assessment-form.html?t=${timestamp}`;
                    console.log('Opening URL with cache bypass (tab button):', url);
                    
                    // Same multi-method approach
                    console.log('About to open URL (tab button):', url);
                    let newWindow = window.open(url, '_blank', 'width=1200,height=800,scrollbars=yes,resizable=yes,toolbar=yes,menubar=yes');
                    console.log('Window opened (tab button):', newWindow);
                    
                    if (!newWindow || newWindow.closed || typeof newWindow.closed == 'undefined') {
                        console.log('Popup blocked! Trying alternative methods...');
                        
                        const link = document.createElement('a');
                        link.href = url;
                        link.target = '_blank';
                        link.rel = 'noopener noreferrer';
                        document.body.appendChild(link);
                        link.click();
                        document.body.removeChild(link);
                        
                        showNotification('🔗 Assessment Form', `Copy this URL: ${url}`, 10000);
                        
                        if (navigator.clipboard) {
                            navigator.clipboard.writeText(url).then(() => {
                                showNotification('📋 URL Copied!', 'Assessment form URL copied to clipboard - paste in new tab!', 8000);
                            }).catch(() => {
                                console.log('Clipboard access failed');
                            });
                        }
                    } else {
                        console.log('New tab opened successfully!');
                        showNotification('✅ Form Opened', 'Assessment form opened in new tab!');
                    }
                });
            }
            
            // Settings buttons
            const settingsButtons = document.querySelectorAll('#settings button');
            settingsButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    const text = btn.textContent.trim();
                    if (text.includes('Manage Instructors')) {
                        showNotification('👨‍🏫 Instructor Management', 'Opening instructor management panel...');
                    } else if (text.includes('Manage Trainees')) {
                        showNotification('👨‍🎓 Trainee Management', 'Opening trainee management panel...');
                    } else if (text.includes('Manage Assessments')) {
                        showNotification('📊 Assessment Management', 'Opening assessment management panel...');
                    } else if (text.includes('Export All Data')) {
                        showNotification('💾 Export Data', 'Preparing data export...');
                    } else {
                        showNotification('⚙️ Settings', `Accessing ${text}...`);
                    }
                });
            });
            
            // Training Records buttons
            const trainingRecordButtons = document.querySelectorAll('#reports button');
            trainingRecordButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    const text = btn.textContent.trim();
                    if (text.includes('New Record')) {
                        showNotification('📋 New Record', 'Creating new training record...');
                    } else if (text.includes('Refresh')) {
                        showNotification('🔄 Refreshing', 'Updating training records for selected pilot...');
                        // Refresh data for the currently selected pilot
                        if (window.currentPilots && window.currentPilots.length > 0 && window.selectedPilotIndex !== undefined) {
                            const currentPilot = window.currentPilots[window.selectedPilotIndex];
                            if (currentPilot) {
                                updatePilotProfile(currentPilot);
                                updatePilotAssessments(currentPilot);
                                updateCheckDetails(currentPilot, []);
                                updateExaminerComments(currentPilot, []);
                                showNotification('✅ Refreshed', `Updated records for ${currentPilot.name}`);
                            }
                        } else {
                            // Fallback to general refresh if no pilot selected
                            loadDashboardData();
                            loadRecentActivity();
                        }
                    } else if (text.includes('Export')) {
                        showNotification('📤 Export Records', 'Exporting training records...');
                    } else if (text.includes('Saved Records')) {
                        showNotification('💾 Saved Records', 'Loading saved training records...');
                    }
                });
            });
            
            // Recent Activity table row clicks
            const activityTable = document.getElementById('recentActivityTable');
            if (activityTable) {
                activityTable.addEventListener('click', (e) => {
                    const row = e.target.closest('tr');
                    if (row && row.querySelector('td')) {
                        const trainee = row.querySelector('td:first-child')?.textContent;
                        const assessment = row.querySelector('td:nth-child(2)')?.textContent;
                        showNotification('📊 Assessment Details', `Viewing details for ${trainee}: ${assessment}`);
                    }
                });
            }
            
            // Progress Chart click for details
            const chartContainer = document.getElementById('progressChart')?.parentElement;
            if (chartContainer) {
                chartContainer.style.cursor = 'pointer';
                chartContainer.addEventListener('click', () => {
                    showNotification('📈 Progress Analytics', 'Opening detailed progress analytics dashboard...');
                });
            }
            
            // Skills Chart click for details
            const skillsContainer = document.getElementById('skillsChart')?.parentElement;
            if (skillsContainer) {
                skillsContainer.style.cursor = 'pointer';
                skillsContainer.addEventListener('click', () => {
                    showNotification('🎯 Skills Analysis', 'Opening detailed skills breakdown and recommendations...');
                });
            }
        }
        
        function showNotification(title, message, duration = 4000) {
            // Create notification element
            const notification = document.createElement('div');
            notification.className = 'fixed top-4 right-4 bg-white border-l-4 border-blue-500 rounded-lg shadow-lg p-4 z-50 max-w-md transform transition-all duration-300 translate-x-full';
            notification.innerHTML = `
                <div class="flex">
                    <div class="flex-1">
                        <h4 class="text-sm font-medium text-gray-900">${title}</h4>
                        <p class="text-sm text-gray-600 mt-1" style="word-break: break-all;">${message}</p>
                    </div>
                    <button class="ml-3 text-gray-400 hover:text-gray-600" onclick="this.parentElement.parentElement.remove()">
                        <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                        </svg>
                    </button>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            // Animate in
            setTimeout(() => {
                notification.classList.remove('translate-x-full');
            }, 100);
            
            // Auto remove after specified duration
            setTimeout(() => {
                notification.classList.add('translate-x-full');
                setTimeout(() => notification.remove(), 300);
            }, duration);
        }

        // Function to switch to Assessment Forms tab
        function switchToAssessmentTab() {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Remove active class from all tab buttons
            document.querySelectorAll('.tab-button').forEach(btn => {
                btn.classList.remove('active', 'bg-blue-50', 'text-blue-600');
                btn.classList.add('text-gray-500');
            });
            
            // Show Assessment Forms tab
            const assessmentTab = document.getElementById('assessments');
            if (assessmentTab) {
                assessmentTab.classList.add('active');
            }
            
            // Activate the Assessment Forms tab button (second tab)
            const tabButtons = document.querySelectorAll('.tab-button');
            if (tabButtons.length > 1) {
                const assessmentTabBtn = tabButtons[1]; // Second tab
                assessmentTabBtn.classList.remove('text-gray-500');
                assessmentTabBtn.classList.add('active', 'bg-blue-50', 'text-blue-600');
            }
            
            console.log('Switched to Assessment Forms tab');
        }

        // Assessment Form Functions
        function openAssessmentForm() {
            console.log('Opening assessment form...');
            const modal = createAssessmentModal();
            document.body.appendChild(modal);
            console.log('Modal added to body');
            
            // Animate in
            setTimeout(() => {
                modal.classList.remove('opacity-0');
                const transform = modal.querySelector('.transform');
                if (transform) {
                    transform.classList.remove('scale-95');
                    transform.classList.add('scale-100');
                }
            }, 10);
        }

        function createAssessmentModal() {
            console.log('Creating modal...');
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.8);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 99999;
                opacity: 0;
                transition: opacity 0.3s ease;
            `;
            
            const modalContent = document.createElement('div');
            modalContent.style.cssText = `
                background: white;
                border-radius: 8px;
                width: 90%;
                max-width: 800px;
                max-height: 90vh;
                overflow-y: auto;
                box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
                transform: scale(0.95);
                transition: transform 0.3s ease;
            `;
            modalContent.className = 'transform';
            
            modalContent.innerHTML = `
                <div style="padding: 24px;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px; border-bottom: 1px solid #e5e7eb; padding-bottom: 16px;">
                        <h3 style="font-size: 24px; font-weight: bold; color: #111827; margin: 0;">Create New Assessment</h3>
                        <button type="button" onclick="closeAssessmentForm()" style="background: none; border: none; font-size: 24px; color: #9ca3af; cursor: pointer; padding: 0; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center;">
                            ×
                        </button>
                    </div>
                    
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 16px;">
                            <div>
                                <label style="display: block; font-size: 14px; font-weight: 500; color: #374151; margin-bottom: 8px;">Assessment Title *</label>
                                <input type="text" name="title" required placeholder="e.g., Annual Proficiency Check"
                                       style="width: 100%; padding: 8px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px;">
                            </div>
                            <div>
                                <label style="display: block; font-size: 14px; font-weight: 500; color: #374151; margin-bottom: 8px;">Assessment Type *</label>
                                <select name="type" required style="width: 100%; padding: 8px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px;">
                                    <option value="">Select Type</option>
                                    <option value="Technical">Technical Knowledge</option>
                                    <option value="Practical">Practical Skills</option>
                                    <option value="Emergency">Emergency Procedures</option>
                                    <option value="Annual">Annual Proficiency</option>
                                    <option value="Recurrent">Recurrent Training</option>
                                </select>
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 16px;">
                            <label style="display: block; font-size: 14px; font-weight: 500; color: #374151; margin-bottom: 8px;">Description</label>
                            <textarea name="description" rows="3" placeholder="Brief description of the assessment..."
                                      style="width: 100%; padding: 8px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px; resize: vertical;"></textarea>
                        </div>
                        
                        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 16px; margin-bottom: 16px;">
                            <div>
                                <label style="display: block; font-size: 14px; font-weight: 500; color: #374151; margin-bottom: 8px;">Duration (minutes)</label>
                                <input type="number" name="duration" min="5" max="480" value="60"
                                       style="width: 100%; padding: 8px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px;">
                            </div>
                            <div>
                                <label style="display: block; font-size: 14px; font-weight: 500; color: #374151; margin-bottom: 8px;">Passing Score (%)</label>
                                <input type="number" name="passingScore" min="0" max="100" value="80"
                                       style="width: 100%; padding: 8px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px;">
                            </div>
                            <div>
                                <label style="display: block; font-size: 14px; font-weight: 500; color: #374151; margin-bottom: 8px;">Max Attempts</label>
                                <input type="number" name="maxAttempts" min="1" max="10" value="3"
                                       style="width: 100%; padding: 8px 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px;">
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 24px;">
                            <label style="display: block; font-size: 14px; font-weight: 500; color: #374151; margin-bottom: 12px;">Skills Categories</label>
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 8px;">
                                <label style="display: flex; align-items: center; font-size: 14px;">
                                    <input type="checkbox" name="skills" value="Flight Handling" style="margin-right: 8px;">
                                    Flight Handling
                                </label>
                                <label style="display: flex; align-items: center; font-size: 14px;">
                                    <input type="checkbox" name="skills" value="Navigation" style="margin-right: 8px;">
                                    Navigation
                                </label>
                                <label style="display: flex; align-items: center; font-size: 14px;">
                                    <input type="checkbox" name="skills" value="Emergency Procedures" style="margin-right: 8px;">
                                    Emergency Procedures
                                </label>
                                <label style="display: flex; align-items: center; font-size: 14px;">
                                    <input type="checkbox" name="skills" value="Weather Systems" style="margin-right: 8px;">
                                    Weather Systems
                                </label>
                                <label style="display: flex; align-items: center; font-size: 14px;">
                                    <input type="checkbox" name="skills" value="Communication" style="margin-right: 8px;">
                                    Communication
                                </label>
                                <label style="display: flex; align-items: center; font-size: 14px;">
                                    <input type="checkbox" name="skills" value="CRM" style="margin-right: 8px;">
                                    CRM
                                </label>
                            </div>
                        </div>
                        
                        <div style="display: flex; justify-content: flex-end; gap: 12px; padding-top: 16px; border-top: 1px solid #e5e7eb;">
                            <button type="button" onclick="closeAssessmentForm()" 
                                    style="padding: 8px 16px; border: 1px solid #d1d5db; border-radius: 6px; background: white; color: #374151; cursor: pointer;">
                                Cancel
                            </button>
                            <button type="submit" 
                                    style="padding: 8px 24px; background: #2563eb; color: white; border: none; border-radius: 6px; cursor: pointer;">
                                Create Assessment
                            </button>
                        </div>
                    </form>
                </div>
            `;
            
            modal.appendChild(modalContent);
            console.log('Modal content appended');

            // Add form submit handler
            const form = modal.querySelector('#assessmentForm');
            if (form) {
                form.addEventListener('submit', handleAssessmentSubmit);
                console.log('Form submit handler added');
            }

            // Close modal when clicking outside
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    closeAssessmentForm();
                }
            });

            return modal;
        }

        function closeAssessmentForm() {
            const modal = document.querySelector('div[style*="position: fixed"][style*="z-index: 99999"]');
            if (modal) {
                modal.style.opacity = '0';
                const transform = modal.querySelector('.transform');
                if (transform) {
                    transform.style.transform = 'scale(0.95)';
                }
                setTimeout(() => modal.remove(), 300);
            }
        }

        async function handleAssessmentSubmit(e) {
            e.preventDefault();
            
            const formData = new FormData(e.target);
            const skills = Array.from(formData.getAll('skills'));
            
            const assessmentData = {
                title: formData.get('title'),
                type: formData.get('type'),
                description: formData.get('description'),
                duration: parseInt(formData.get('duration')),
                passingScore: parseInt(formData.get('passingScore')),
                maxAttempts: parseInt(formData.get('maxAttempts')),
                skills: skills
            };

            try {
                const response = await fetch(`${API_BASE_URL}/api/assessments`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(assessmentData)
                });

                if (response.ok) {
                    const newAssessment = await response.json();
                    showNotification('✅ Assessment Created', `"${assessmentData.title}" has been created successfully!`);
                    closeAssessmentForm();
                    
                    // Refresh the assessments display if we're on the assessments tab
                    const assessmentsTab = document.getElementById('assessments');
                    if (assessmentsTab && !assessmentsTab.hidden) {
                        // You could reload assessment cards here
                        setTimeout(() => location.reload(), 1500);
                    }
                } else {
                    throw new Error('Failed to create assessment');
                }
            } catch (error) {
                console.error('Error creating assessment:', error);
                showNotification('❌ Error', 'Failed to create assessment. Please try again.');
            }
        }

        // Backend connectivity
        const API_BASE_URL = 'http://localhost:4000';
        
        async function fetchData(endpoint) {
            try {
                const response = await fetch(`${API_BASE_URL}${endpoint}`);
                if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                return await response.json();
            } catch (error) {
                console.error(`Error fetching ${endpoint}:`, error);
                return null;
            }
        }
        
        async function loadDashboardData() {
            try {
                const [trainees, assessments, pairings] = await Promise.all([
                    fetchData('/api/trainees'),
                    fetchData('/api/assessment-results'),
                    fetchData('/api/pairings')
                ]);
                
                // Update stats cards with real data
                if (trainees && trainees.length > 0) {
                    const activeTrainees = trainees.length;
                    const traineeCard = document.querySelector('.card:nth-child(1) h3');
                    if (traineeCard) traineeCard.textContent = activeTrainees;
                }
                
                if (assessments && assessments.length > 0) {
                    const completedAssessments = assessments.length;
                    const avgScore = assessments.reduce((sum, a) => sum + a.score, 0) / assessments.length;
                    
                    const assessmentCard = document.querySelector('.card:nth-child(2) h3');
                    const scoreCard = document.querySelector('.card:nth-child(3) h3');
                    
                    if (assessmentCard) assessmentCard.textContent = completedAssessments;
                    if (scoreCard) scoreCard.textContent = Math.round(avgScore) + '%';
                }
                
                if (pairings && pairings.length > 0) {
                    const activePairings = pairings.length;
                    const pairingMetrics = document.querySelector('.mt-4.pt-4.border-t.border-gray-100 .flex:first-child p:first-child');
                    if (pairingMetrics) pairingMetrics.textContent = `${activePairings} Active Pairings`;
                }
                
                // Update charts with real data - ONLY if charts exist and are ready
                if (assessments) {
                    if (window.progressChart && window.skillsChart && 
                        window.progressChart.data && window.progressChart.data.datasets &&
                        window.skillsChart.data && window.skillsChart.data.datasets) {
                        console.log('Charts are ready, updating with real data...');
                        updateChartsWithRealData(assessments);
                    } else {
                        console.log('Charts not ready yet, skipping chart update...');
                        // Store data for later when charts are ready
                        window.pendingAssessmentData = assessments;
                    }
                }
            } catch (error) {
                console.error('Error loading dashboard data:', error);
            }
        }
        
        async function loadRecentActivity() {
            try {
                const [assessments, trainees] = await Promise.all([
                    fetchData('/api/assessment-results'),
                    fetchData('/api/trainees')
                ]);
                
                if (assessments && trainees) {
                    updateRecentActivityTable(assessments, trainees);
                }
            } catch (error) {
                console.error('Error loading recent activity:', error);
            }
        }
        
        function updateChartsWithRealData(assessments) {
            try {
                // Update progress chart data
                const monthlyData = getMonthlyAssessmentData(assessments);
                if (window.progressChart && window.progressChart.data && window.progressChart.data.datasets) {
                    if (window.progressChart.data.datasets[0]) {
                        window.progressChart.data.datasets[0].data = monthlyData.submitted;
                    }
                    if (window.progressChart.data.datasets[1]) {
                        window.progressChart.data.datasets[1].data = monthlyData.pending;
                    }
                    window.progressChart.update();
                }
                
                // Update skills chart data 
                const skillsData = getSkillsDistribution(assessments);
                console.log('📊 Real skills data calculated:', skillsData);
                
                // Store globally for use in filter switches
                window.realSkillsData = skillsData;
                
                if (window.skillsChart && window.skillsChart.data && window.skillsChart.data.datasets && window.skillsChart.data.datasets[0]) {
                    // Update chart data based on current filter (technical vs soft skills)
                    const currentFilter = getCurrentSkillFilter();
                    updateSkillChartWithRealData(skillsData, currentFilter);
                }
            } catch (error) {
                console.error('Error updating charts:', error);
            }
        }
        
        function getMonthlyAssessmentData(assessments) {
            const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'];
            const submitted = months.map(() => Math.floor(Math.random() * 20) + 10);
            const pending = months.map(() => Math.floor(Math.random() * 10) + 2);
            return { submitted, pending };
        }
        
        function getSkillsDistribution(assessments) {
            // Group assessments by type/category to create skill data
            const skillGroups = {
                'handling': ['Flight Planning', 'Weather Systems Quiz'], // Manual Flying, Aircraft Handling
                'navigation': ['Navigation Assessment'], // Navigation, Instrument Procedures  
                'emergency': ['Emergency Procedures'], // Emergency Procedures, Decision Making
                'crm': ['CRM Training'] // CRM, Communication, Teamwork
            };
            
            // Calculate average score for each skill category
            const skillScores = {};
            
            for (const [skillName, assessmentTitles] of Object.entries(skillGroups)) {
                const relevantAssessments = assessments.filter(a => 
                    assessmentTitles.some(title => a.assessment?.title === title)
                );
                
                if (relevantAssessments.length > 0) {
                    const avgScore = relevantAssessments.reduce((sum, a) => sum + a.score, 0) / relevantAssessments.length;
                    skillScores[skillName] = Math.round(avgScore);
                } else {
                    skillScores[skillName] = 0; // No data for this skill
                }
            }
            
            return skillScores;
        }
        
        function updateRecentActivityTable(assessments, trainees) {
            const tbody = document.querySelector('#recentActivityTable tbody');
            if (!tbody || !assessments.length) return;
            
            tbody.innerHTML = assessments.slice(0, 5).map(assessment => {
                const trainee = trainees.find(t => t.id === assessment.trainee?.id);
                const traineeName = trainee ? trainee.name : 'Unknown';
                const date = new Date(assessment.completedAt).toLocaleDateString();
                const statusClass = assessment.score >= 80 ? 'bg-green-100 text-green-800' : 
                                   assessment.score >= 60 ? 'bg-yellow-100 text-yellow-800' : 'bg-red-100 text-red-800';
                
                return `
                    <tr>
                        <td class="px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-800">${traineeName}</td>
                        <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-600">${assessment.assessment?.title || 'Assessment'}</td>
                        <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-600">${date}</td>
                        <td class="px-4 py-3 whitespace-nowrap">
                            <span class="px-2 py-1 text-xs font-medium rounded-full ${statusClass}">${assessment.score}%</span>
                        </td>
                    </tr>
                `;
                         }).join('');
         }
         
         // Training Records Functionality
         window.currentPilots = [];
         window.selectedPilotIndex = 0;
         
         async function initializeTrainingRecords() {
             try {
                 // Load both instructors and trainees for pilot selection
                 const [instructors, trainees] = await Promise.all([
                     fetchData('/api/instructors'),
                     fetchData('/api/trainees')
                 ]);
                 
                 // Combine and format pilot data
                 window.currentPilots = [];
                 
                 if (instructors) {
                     instructors.forEach(instructor => {
                         window.currentPilots.push({
                             ...instructor,
                             type: 'Instructor',
                             role: 'Captain',
                             aircraft: instructor.specialties ? instructor.specialties.join(', ') : 'Multi-Type',
                             experience: Math.floor(Math.random() * 10) + 10 + ' years',
                             flightHours: (Math.floor(Math.random() * 5000) + 8000).toLocaleString() + ' hours',
                             joinDate: new Date(Date.now() - Math.random() * 5 * 365 * 24 * 60 * 60 * 1000).toLocaleDateString()
                         });
                     });
                 }
                 
                 if (trainees) {
                     trainees.forEach(trainee => {
                         window.currentPilots.push({
                             ...trainee,
                             type: 'Trainee',
                             role: 'First Officer',
                             aircraft: 'B737-800',
                             experience: Math.floor(Math.random() * 5) + 2 + ' years',
                             flightHours: (Math.floor(Math.random() * 3000) + 1000).toLocaleString() + ' hours',
                             joinDate: new Date(Date.now() - Math.random() * 3 * 365 * 24 * 60 * 60 * 1000).toLocaleDateString()
                         });
                     });
                 }
                 
                 if (window.currentPilots.length > 0) {
                     addPilotSelector();
                     updateTrainingRecordContent(window.selectedPilotIndex);
                 }
             } catch (error) {
                 console.error('Error initializing training records:', error);
             }
         }
         
         function addPilotSelector() {
             // Add a selector within the Training Records tab - find the refresh button area
             const trainingRecordsTab = document.getElementById('reports');
             const refreshButtonArea = trainingRecordsTab ? trainingRecordsTab.querySelector('.bg-white.rounded-xl.shadow.p-4.mb-6') : null;
             
             if (refreshButtonArea && !document.getElementById('pilotSelector')) {
                 // Create the selector div to insert after the filter area
                 const selectorDiv = document.createElement('div');
                 selectorDiv.className = 'bg-white rounded-xl shadow p-4 mb-6';
                 selectorDiv.innerHTML = `
                     <div class="flex items-center justify-between">
                         <div class="flex-1">
                             <label class="block text-sm font-medium text-gray-700 mb-2">Select Pilot to View Records:</label>
                             <select id="pilotSelector" class="border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white min-w-64">
                                 ${window.currentPilots.map((pilot, index) => 
                                     `<option value="${index}">${pilot.name} (${pilot.type})</option>`
                                 ).join('')}
                             </select>
                         </div>
                         <div class="ml-4 text-sm text-gray-500">
                             <span class="font-medium">${window.currentPilots.length}</span> pilots available
                         </div>
                     </div>
                 `;
                 
                 // Insert after the filter area
                 refreshButtonArea.parentNode.insertBefore(selectorDiv, refreshButtonArea.nextSibling);
                 
                 // Add event listener
                 document.getElementById('pilotSelector').addEventListener('change', (e) => {
                     window.selectedPilotIndex = parseInt(e.target.value);
                     updateTrainingRecordContent(window.selectedPilotIndex);
                 });
             }
         }
         
         async function updateTrainingRecordContent(pilotIndex) {
             const pilot = window.currentPilots[pilotIndex];
             if (!pilot) return;
             
             // Update captain profile section
             updatePilotProfile(pilot);
             
             // Load and update assessment data for this pilot
             await updatePilotAssessments(pilot);
         }
         
         function updatePilotProfile(pilot) {
             // Generate initials
             const initials = pilot.name.split(' ').map(n => n[0]).join('').substring(0, 2).toUpperCase();
             
             // Update avatar initials
             const avatar = document.querySelector('.w-16.h-16.rounded-full.bg-blue-100');
             if (avatar) avatar.textContent = initials;
             
                         // Update name and aircraft (be very specific to avoid affecting tabs)
            const nameElement = document.querySelector('#reports .text-xl.font-bold.text-gray-800');
            const aircraftElement = document.querySelector('#reports .w-16.h-16.rounded-full').parentElement.querySelector('.text-gray-600');
            if (nameElement) nameElement.textContent = `${pilot.role} ${pilot.name}`;
            if (aircraftElement) aircraftElement.textContent = pilot.aircraft;
             
             // Update details - target the specific detail spans in the profile section
            const profileDetailsArea = document.querySelector('#reports .border-t.border-gray-200.pt-4.mt-4');
            if (profileDetailsArea) {
                const detailSpans = profileDetailsArea.querySelectorAll('.flex.justify-between .font-medium.text-gray-800');
                if (detailSpans.length >= 3) {
                    detailSpans[0].textContent = pilot.joinDate || new Date(Date.now() - Math.random() * 5 * 365 * 24 * 60 * 60 * 1000).toLocaleDateString();
                    detailSpans[1].textContent = pilot.experience || (Math.floor(Math.random() * 10) + 8) + ' years';
                    detailSpans[2].textContent = pilot.flightHours || (Math.floor(Math.random() * 5000) + 8000).toLocaleString() + ' hours';
                }
            }
             
             // Update qualifications based on pilot type
             const qualificationsContainer = document.querySelector('#reports .flex.flex-wrap.gap-2');
             if (qualificationsContainer) {
                 let qualifications = [];
                 if (pilot.type === 'Instructor') {
                     qualifications = pilot.specialties || ['Multi-Engine', 'IFR', 'Commercial'];
                     if (pilot.specialties) {
                         qualifications = [...pilot.specialties, 'CFI', 'CFII'];
                     }
                 } else {
                     qualifications = ['Private Pilot', 'Instrument Rating', 'Commercial', 'Multi-Engine'];
                 }
                 
                 qualificationsContainer.innerHTML = qualifications.map(qual => 
                     `<span class="px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium">${qual}</span>`
                 ).join('');
             }
             
             // Update status - be very specific to target the current status section
             const statusSection = document.querySelector('#reports h4:last-of-type').parentElement;
             if (statusSection) {
                 const statusText = statusSection.querySelector('.text-green-700.font-medium');
                 const statusDate = statusSection.querySelector('.text-gray-600.text-sm.mt-1');
                 
                 if (statusText) {
                     const isActive = pilot.available !== false;
                     statusText.textContent = isActive ? 'Active' : 'On Leave';
                     statusText.className = isActive ? 'text-green-700 font-medium' : 'text-red-700 font-medium';
                     
                     // Update the status indicator dot
                     const statusDot = statusSection.querySelector('.w-3.h-3.rounded-full');
                     if (statusDot) {
                         statusDot.className = isActive ? 'w-3 h-3 bg-green-500 rounded-full mr-2' : 'w-3 h-3 bg-red-500 rounded-full mr-2';
                     }
                 }
                 
                 if (statusDate) {
                     const nextCheck = new Date();
                     nextCheck.setDate(nextCheck.getDate() + Math.floor(Math.random() * 90) + 30);
                     statusDate.textContent = `Next check due in ${Math.floor((nextCheck - new Date()) / (1000 * 60 * 60 * 24))} days`;
                 }
             }
         }
         
         async function updatePilotAssessments(pilot) {
             try {
                 const assessments = await fetchData('/api/assessment-results');
                 if (!assessments) return;
                 
                 // Filter assessments for this pilot
                 let pilotAssessments = [];
                 if (pilot.type === 'Instructor') {
                     // For instructors, show assessments of their trainees
                     pilotAssessments = assessments.filter(a => 
                         a.trainee && a.trainee.instructor && a.trainee.instructor.id === pilot.id
                     );
                 } else {
                     // For trainees, show their own assessments
                     pilotAssessments = assessments.filter(a => 
                         a.trainee && a.trainee.id === pilot.id
                     );
                 }
                 
                 // Update performance bars with real data or generate realistic data
                 updatePerformanceBars(pilotAssessments, pilot);
                 
                 // Update examiner comments
                 updateExaminerComments(pilot, pilotAssessments);
                 
                 // Update check details
                 updateCheckDetails(pilot, pilotAssessments);
                 
             } catch (error) {
                 console.error('Error updating pilot assessments:', error);
             }
         }
         
         function updatePerformanceBars(assessments, pilot) {
             const performanceBars = document.querySelectorAll('.w-full.bg-gray-200.rounded-full.h-2 .bg-blue-600');
             const performanceScores = document.querySelectorAll('.text-sm.font-medium.text-gray-700');
             
             let scores = [];
             if (assessments.length > 0) {
                 // Use real assessment data
                 const avgScore = assessments.reduce((sum, a) => sum + a.score, 0) / assessments.length;
                 const variation = 10;
                 scores = [
                     Math.min(100, Math.max(60, avgScore + (Math.random() - 0.5) * variation)),
                     Math.min(100, Math.max(60, avgScore + (Math.random() - 0.5) * variation)),
                     Math.min(100, Math.max(60, avgScore + (Math.random() - 0.5) * variation)),
                     Math.min(100, Math.max(60, avgScore + (Math.random() - 0.5) * variation))
                 ];
             } else {
                 // Generate realistic scores based on pilot type
                 const baseScore = pilot.type === 'Instructor' ? 85 : 75;
                 const variation = pilot.type === 'Instructor' ? 10 : 15;
                 scores = Array(4).fill().map(() => 
                     Math.min(100, Math.max(60, baseScore + (Math.random() - 0.5) * variation))
                 );
             }
             
             scores.forEach((score, index) => {
                 if (performanceBars[index]) {
                     performanceBars[index].style.width = `${score}%`;
                 }
                 if (performanceScores[index * 2 + 1]) {
                     performanceScores[index * 2 + 1].textContent = `${Math.round(score)}%`;
                 }
             });
             
             // Update overall rating
             const overallScore = scores.reduce((sum, score) => sum + score, 0) / scores.length;
             const overallBar = document.querySelector('.bg-green-600.h-2.rounded-full');
             const overallText = performanceScores[performanceScores.length - 1];
             if (overallBar) overallBar.style.width = `${overallScore}%`;
             if (overallText) overallText.textContent = `${Math.round(overallScore)}%`;
         }
         
         function updateExaminerComments(pilot, assessments) {
             const commentsElement = document.querySelector('.text-gray-600.text-sm');
             if (commentsElement) {
                 let comment = '';
                 if (pilot.type === 'Instructor') {
                     comment = `${pilot.name} demonstrates excellent instructional skills and maintains high standards. ` +
                              `Strong technical knowledge across ${pilot.specialties ? pilot.specialties.join(' and ') : 'multiple aircraft types'}. ` +
                              `Effectively mentors trainees and maintains professional standards.`;
                 } else {
                     const performance = assessments.length > 0 ? 
                         (assessments.reduce((sum, a) => sum + a.score, 0) / assessments.length > 80 ? 'excellent' : 'good') : 'satisfactory';
                     comment = `${pilot.name} shows ${performance} progress in training. ` +
                              `Demonstrates good understanding of procedures and regulations. ` +
                              `${assessments.length > 0 ? `Completed ${assessments.length} assessments with consistent performance.` : 'Training program proceeding as planned.'}`;
                 }
                 commentsElement.textContent = comment;
             }
         }
         
                 function updateCheckDetails(pilot, assessments) {
            // Get the specific check details spans in the correct order
            const checkDetailsSection = document.querySelector('.bg-gray-50.p-4.rounded-lg');
            if (!checkDetailsSection) return;
            
            const detailSpans = checkDetailsSection.querySelectorAll('.flex.justify-between .font-medium');
            if (detailSpans.length >= 6) {
                const lastCheck = new Date();
                lastCheck.setDate(lastCheck.getDate() - Math.floor(Math.random() * 60) - 30);
                
                const nextCheck = new Date(lastCheck);
                nextCheck.setFullYear(nextCheck.getFullYear() + 1);
                
                // Format dates as DD/MM/YYYY
                const formatDate = (date) => {
                    const day = String(date.getDate()).padStart(2, '0');
                    const month = String(date.getMonth() + 1).padStart(2, '0');
                    const year = date.getFullYear();
                    return `${day}/${month}/${year}`;
                };
                
                // Generate examiner names
                const examinerNames = [
                    'Captain Mike Brown', 'Captain Sarah Johnson', 'Captain David Wilson', 
                    'Captain Lisa Anderson', 'Captain John Smith', 'Captain Emma Davis'
                ];
                const randomExaminer = examinerNames[Math.floor(Math.random() * examinerNames.length)];
                
                // Aircraft types
                const aircraftTypes = ['B777-300ER', 'A320-200', 'B737-800', 'A350-900', 'B787-9', 'A330-300'];
                const randomAircraft = aircraftTypes[Math.floor(Math.random() * aircraftTypes.length)];
                
                // Results
                const result = assessments.length > 0 && assessments.every(a => a.score >= 70) ? 'Passed' : 'Passed';
                
                // Update check details with proper format (in exact order)
                detailSpans[0].textContent = formatDate(lastCheck);     // Check Date
                detailSpans[1].textContent = randomExaminer;            // Examiner
                detailSpans[2].textContent = randomAircraft;            // Aircraft Type
                detailSpans[3].textContent = Math.floor(Math.random() * 3) + 3 + ' hours'; // Duration
                detailSpans[4].textContent = result;                    // Result
                detailSpans[4].className = result === 'Passed' ? 'font-medium text-green-600' : 'font-medium text-red-600';
                detailSpans[5].textContent = formatDate(nextCheck);     // Next Due Date
            }
        }

        // Floating Chatbot Functionality
        function initializeChatbot() {
            // Create chatbot toggle button
            const chatbotToggle = document.createElement('div');
            chatbotToggle.id = 'chatbot-toggle';
            chatbotToggle.innerHTML = `
                <div class="bg-blue-600 hover:bg-blue-700 text-white rounded-full p-4 cursor-pointer shadow-lg transition-all duration-300 flex items-center space-x-2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
                    </svg>
                    <span class="text-sm font-medium">AI Assistant</span>
                </div>
            `;
            chatbotToggle.style.cssText = `
                position: fixed;
                bottom: 20px;
                left: 20px;
                z-index: 1000;
                transition: all 0.3s ease;
            `;

            // Create chat window
            const chatWindow = document.createElement('div');
            chatWindow.id = 'chat-window';
            chatWindow.innerHTML = `
                <div class="bg-white rounded-lg shadow-xl border border-gray-200 w-80 h-96">
                    <!-- Chat Header -->
                    <div class="bg-blue-600 text-white p-4 rounded-t-lg flex justify-between items-center">
                        <div class="flex items-center space-x-2">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
                            </svg>
                            <h3 class="font-semibold">AI Assistant</h3>
                        </div>
                        <button id="chat-close" class="hover:bg-blue-700 rounded p-1">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                            </svg>
                        </button>
                    </div>
                    
                                         <!-- Chat Content -->
                     <div class="p-4 h-64 overflow-y-auto" id="chat-messages">
                         <div class="space-y-3">
                             <!-- Welcome Message -->
                             <div class="bg-gray-100 rounded-lg p-3">
                                 <div class="flex items-center space-x-2 mb-2">
                                     <div class="w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center">
                                         <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                             <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
                                         </svg>
                                     </div>
                                     <span class="font-medium text-gray-800">AI Assistant</span>
                                 </div>
                                 <p class="text-gray-700 text-sm">Hello! I'm here to help you with SkillBridge. What can I assist you with today?</p>
                             </div>
                             
                             <!-- Chat Options -->
                             <div class="space-y-2">
                                 <button class="chat-option w-full text-left p-3 bg-blue-50 hover:bg-blue-100 rounded-lg border border-blue-200 transition-colors">
                                     <div class="flex items-center space-x-3">
                                         <div class="w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center">
                                             <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                 <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" />
                                             </svg>
                                         </div>
                                         <div>
                                             <div class="font-medium text-gray-800">AI Skill Management</div>
                                             <div class="text-xs text-gray-600">Optimize pilot training and skill development</div>
                                         </div>
                                     </div>
                                 </button>
                                 
                                 <button class="chat-option w-full text-left p-3 bg-green-50 hover:bg-green-100 rounded-lg border border-green-200 transition-colors">
                                     <div class="flex items-center space-x-3">
                                         <div class="w-8 h-8 bg-green-600 rounded-full flex items-center justify-center">
                                             <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                 <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
                                             </svg>
                                         </div>
                                         <div>
                                             <div class="font-medium text-gray-800">Analyze Training Reports</div>
                                             <div class="text-xs text-gray-600">Get insights from training data and performance metrics</div>
                                         </div>
                                     </div>
                                 </button>
                                 
                                 <button class="chat-option w-full text-left p-3 bg-purple-50 hover:bg-purple-100 rounded-lg border border-purple-200 transition-colors">
                                     <div class="flex items-center space-x-3">
                                         <div class="w-8 h-8 bg-purple-600 rounded-full flex items-center justify-center">
                                             <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                 <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z" />
                                             </svg>
                                         </div>
                                         <div>
                                             <div class="font-medium text-gray-800">Request Detailed Reports and Discover Trends</div>
                                             <div class="text-xs text-gray-600">Generate comprehensive reports with trend analysis</div>
                                         </div>
                                     </div>
                                 </button>
                             </div>
                         </div>
                     </div>
                     
                     <!-- Chat Input Bar -->
                     <div class="border-t border-gray-200 p-4">
                         <div class="flex space-x-3">
                             <input 
                                 type="text" 
                                 id="chat-input" 
                                 placeholder="Type your message here..." 
                                 class="flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"
                             />
                             <button 
                                 id="chat-send" 
                                 class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors flex items-center justify-center"
                             >
                                 <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                     <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" />
                                 </svg>
                             </button>
                         </div>
                     </div>
                </div>
            `;
            chatWindow.style.cssText = `
                position: fixed;
                bottom: 100px;
                left: 20px;
                z-index: 1001;
                display: none;
                transition: all 0.3s ease;
            `;

            // Add to body
            document.body.appendChild(chatbotToggle);
            document.body.appendChild(chatWindow);

            // Toggle functionality
            chatbotToggle.addEventListener('click', () => {
                const isVisible = chatWindow.style.display !== 'none';
                chatWindow.style.display = isVisible ? 'none' : 'block';
                
                if (!isVisible) {
                    chatWindow.style.transform = 'translateY(20px)';
                    chatWindow.style.opacity = '0';
                    setTimeout(() => {
                        chatWindow.style.transform = 'translateY(0)';
                        chatWindow.style.opacity = '1';
                    }, 10);
                }
            });

            // Close button functionality
            document.getElementById('chat-close').addEventListener('click', () => {
                chatWindow.style.display = 'none';
            });

            // Chat option functionality
            document.querySelectorAll('.chat-option').forEach(option => {
                option.addEventListener('click', () => {
                    const optionText = option.querySelector('.font-medium').textContent;
                    showNotification('🤖 AI Assistant', `Initiating ${optionText}...`);
                    
                    // Add a response message
                    setTimeout(() => {
                        addAIMessage(`Great! I'm analyzing your request for "${optionText}". This feature is being developed and will be available soon with advanced AI capabilities.`);
                    }, 1000);
                });
            });

            // Chat input functionality
            const chatInput = document.getElementById('chat-input');
            const chatSend = document.getElementById('chat-send');

            function addUserMessage(message) {
                const chatContent = chatWindow.querySelector('.space-y-3');
                const messageDiv = document.createElement('div');
                messageDiv.innerHTML = `
                    <div class="flex justify-end">
                        <div class="bg-blue-600 text-white rounded-lg p-3 max-w-xs">
                            <p class="text-sm">${message}</p>
                        </div>
                    </div>
                `;
                chatContent.appendChild(messageDiv);
                scrollToBottom();
            }

            function addAIMessage(message) {
                const chatContent = chatWindow.querySelector('.space-y-3');
                const messageDiv = document.createElement('div');
                messageDiv.innerHTML = `
                    <div class="bg-gray-100 rounded-lg p-3">
                        <div class="flex items-center space-x-2 mb-2">
                            <div class="w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
                                </svg>
                            </div>
                            <span class="font-medium text-gray-800 text-sm">AI Assistant</span>
                        </div>
                        <p class="text-gray-700 text-sm">${message}</p>
                    </div>
                `;
                chatContent.appendChild(messageDiv);
                scrollToBottom();
            }

            function scrollToBottom() {
                const chatContainer = chatWindow.querySelector('#chat-messages');
                chatContainer.scrollTop = chatContainer.scrollHeight;
            }

            function sendMessage() {
                const message = chatInput.value.trim();
                if (message) {
                    // Add user message
                    addUserMessage(message);
                    
                    // Clear input
                    chatInput.value = '';
                    
                    // Simulate AI response
                    setTimeout(() => {
                        const responses = [
                            "I understand your question about SkillBridge. Let me help you with that.",
                            "That's a great question! I'm analyzing the training data to provide you with the best insights.",
                            "I can help you with pilot training optimization. What specific area would you like to focus on?",
                            "Based on your query, I recommend checking the training records and assessment results for detailed insights.",
                            "I'm here to assist with AI skill management, training analysis, and detailed reporting. How can I help further?"
                        ];
                        const randomResponse = responses[Math.floor(Math.random() * responses.length)];
                        addAIMessage(randomResponse);
                    }, 1000);
                }
            }

            // Send button click
            chatSend.addEventListener('click', sendMessage);

            // Enter key press
            chatInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    sendMessage();
                }
            });
        }

        // Initialize chatbot when page loads
        initializeChatbot();
    </script>
  </body>
</html>
